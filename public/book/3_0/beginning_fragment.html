<div id="top"></div>


<h1 class="chapter"><a id="sec:1" href="beginning?version=3.0#top" class="heading"><span class="number">Глава 1</span> От нуля к развертыванию</a></h1>

<p>Добро пожаловать в <a   href="http://railstutorial.ru/chapters/beginning?version=3.0"><em>Ruby on Rails Tutorial: Изучаем Rails на примерах</em></a>. Цель этой книги состоит в том, чтобы стать лучшим ответом на вопрос: &laquo;Если я хочу изучить веб-разработку на <a  href="http://rubyonrails.ru/">Ruby on Rails</a>, с чего я должен начать?&raquo;. К тому времени, когда вы завершите Ruby on Rails Tutorial, вы будете иметь все знания необходимые для разработки и разворачивания собственных веб-приложений. Вы также будете готовы извлечь выгоду из многих более продвинутых книг, блогов и видеороликов, которые являются частью процветающей образовательной экосистемы Rails. Наконец, так как <em>Учебное руководство Ruby on Rails</em> использует Rails 3, информация, которую вы получаете здесь, будет полностью актуализирована с самой последней версией Rails.<sup class="footnote" id="fnref:1.1"><a href="#fn:1.1">1</a></sup></p>

<p><em>Ruby on Rails Tutorial</em> следует, по существу, тому же подходу, что и моя предыдущая книга о Rails,<sup class="footnote" id="fnref:1.2"><a href="#fn:1.2">2</a></sup> обучение веб-разработке на Rails путём создания реального приложения с нуля. Как отмечает <a href="http://sivers.org">Дерек Сиверс</a> в предисловии, эта книга представляет из себя линейное повествование, поэтому ее следует читать от начала до конца. Если вы привыкли прыгать в технических книгах, применение этого линейного подхода может потребовать от вас некоторой корректировки, но я предлагаю попробовать. Вы можете думать о <em>Ruby on Rails Tutorial</em> как о видео-игре, где вы &#8211; главный герой, получающий новый уровень, как Rails разработчик, в каждой главе. (упражнения &#8211; это <a  href="http://ru.wikipedia.org/wiki/Босс_%28компьютерные_игры%29">минибоссы</a>)</p>

<p>В этой первой главе мы начнем изучение Ruby on Rails, с установки всего необходимого программного обеспечения и инсталляции нашей среды разработки (<a class="ref" href="beginning?version=3.0#sec:up_and_running">Раздел&nbsp;1.2</a>). Затем мы создадим наше первое приложение Rails, названное (достаточно подходяще) <tt>first_app</tt>. <em>Rails Tutorial</em> прививает хорошие навыки программирования, так что сразу после создания нашего свежего нового проекта Rails, мы поместим его в управление версиями с Git (<a class="ref" href="beginning?version=3.0#sec:version_control">Раздел&nbsp;1.3</a>). И, верите вы в это или нет, в этой главе, мы даже разместим наше первое приложение в веб, <em>развернув</em> его в продакшен  (<a class="ref" href="beginning?version=3.0#sec:deploying">Раздел&nbsp;1.4</a>).</p>

<p>В <a class="ref" href="a-demo-app?version=3.0#top">Главе&nbsp;2</a>, мы сделаем второй проект, целью которого будет демонстрация основ работы Rails приложения. Чтобы быстро стартануть, мы создадим это <em>демонстрационное приложение</em> (названное <tt>demo_app</tt>) используя scaffolding (<a class="ref" href="beginning?version=3.0#sidebar:scaffolding">Блок&nbsp;1.1</a>) для генерации кода; так как этот код и уродлив и сложен, в <a class="ref" href="a-demo-app?version=3.0#top">Главе&nbsp;2</a> мы сосредоточимся на взаимодействии с демонстрационным приложением через его <em>URL</em><sup class="footnote" id="fnref:1.3"><a href="#fn:1.3">3</a></sup> используя веб-браузер.</p>

<p>В <a class="ref" href="static-pages?version=3.0#top">Главе&nbsp;3</a>, мы создадим <em>пример приложения</em> (названного <tt>sample_app</tt>), на сей раз написав весь код с нуля. Мы разработаем демонстрационное приложение, используя <HP>разработку через тестирование (test-driven development)</em> (TDD), начнем <a class="ref" href="static-pages?version=3.0#top">Главу&nbsp;3</a> созданием статических страниц, затем добавим немного динамического контента. В  <a class="ref" href="rails-flavored-ruby?version=3.0#top">Главе&nbsp;4</a> мы немного познакомимся с языком программирования Ruby, лежащем в основе Rails. Затем, с <a class="ref" href="filling-in-the-layout?version=3.0#top">Главы&nbsp;5</a> по <a class="ref" href="updating-showing-and-deleting-users?version=3.0#top">Главу&nbsp;10</a>, мы завершим основу для примера приложения, сделав макет сайта, модель данных пользователя, и полные регистрационную и аутентификационную системы. Наконец, в <a class="ref" href="user-microposts?version=3.0#top">Главе&nbsp;11</a> и <a class="ref" href="following-users?version=3.0#top">Главе&nbsp;12</a> мы добавим микроблогинг и социальные функции, чтобы сделать рабочий пример сайта.</p>

<p>Конечный пример приложения будет иметь большое сходство с одним популярным <a href="http://twitter.com/">сайтом</a> &#8211; который, по совпадению, изначально был также написан в Rails.<sup class="footnote" id="fnref:1.4"><a href="#fn:1.4">4</a></sup> Хотя, по необходимости, наши усилия и сосредоточатся на этом конкретном примере приложения, на протяжении <em>Учебника Rails</em> акцент будет на общих принципах, так, чтобы у вас был прочный фундамент независимо от того, какие виды веб-приложений вы хотите создавать.</p>

<div class="label" id="sidebar:scaffolding"></div>


<div class="sidebar"><span class="title"><span class="header">Блок 1.1.</span><span class="description">Scaffolding: Быстрее, легче, обольстительней</span></span>
<p>С начала Rails извлек выгоду из ощутимого чувства волнения, начавшегося с известного <a href="http://media.rubyonrails.org/video/rails_take2_with_sound.mov">15-minute weblog video</a> творца Rails David Heinemeier Hansson, теперь обновленного как <a href="http://media.rubyonrails.org/video/rails_blog_2.mov">15-minute weblog using Rails&nbsp;2</a> Райаном Бэйтсом. Эти видео - отличный способ познакомиться с мощью Rails, и я рекомендую посмотреть их. Но предупреждаю: они совершают свой удивительный пятнадцатиминутный подвиг, используя функцию под названием <em>scaffolding</em>, которая полагается в бОльшей степени на <em>сгенерированный код</em>, волшебно создаваемый Rails командой <code>generate</code>.</p>

<p>При написании <em>Учебника Ruby on Rails</em> было заманчиво положиться на подход scaffolding&mdash;он&rsquo; <a href="http://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D0%BB%D0%B0_%28%D0%97%D0%B2%D1%91%D0%B7%D0%B4%D0%BD%D1%8B%D0%B5_%D0%B2%D0%BE%D0%B9%D0%BD%D1%8B%29#.D0.A2.D1.91.D0.BC.D0.BD.D0.B0.D1.8F_.D1.81.D1.82.D0.BE.D1.80.D0.BE.D0.BD.D0.B0">быстрее, легче, обольстительней</a>. Но сложность и огромный объем кода в scaffolding могут быть крайне подавляющими для начинающего разработчика Rails, может быть вы сможете его использовать, но вы, вероятно, не будете понимать его. Следуя scaffolding подходу вы рискуете превратиться в виртуозного генератора скриптов с пустяковыми (и хрупкими) фактическими знаниями Rails.</p>

<p>В <em>Ruby on Rails Учебнике</em>, мы будем придерживаться (почти) полярно противоположного подхода: хотя <a class="ref" href="a-demo-app?version=3.0#top">Глава&nbsp;2</a>  и разрабатывает небольшое демонстрационное приложение, с использованием scaffolding, ядро <em>Учебника</em> &mdash; пример приложения, которое мы начнем писать в <a class="ref" href="static-pages?version=3.0#top">Главе&nbsp;3</a>. На каждом этапе разработки примера приложения мы будем генерировать <em>маленькие, съедобного размера</em> куски кода, достаточно простые для понимания, но все же достаточно непривычные, требующие усилий. Суммарный эффект будет более глубоким, а более гибкое знание Rails даст вам хорошие предпосылки для написания веб-приложения почти любого типа.</p>
</div>




<div class="label" id="sec:introduction"></div>


<h2><a id="sec:1.1" href="beginning?version=3.0#sec:introduction" class="heading"><span class="number">1.1</span> Введение</a></h2>


<p>Со времен своего дебюта в 2004 году, Ruby on Rails быстро стал одним из самых мощных и популярных фреймворков для построения динамических веб-приложений. Пользователи Rails охватывают широкий диапазон задач, начиная со стартапов и заканчивая огромными компаниями: <a href="http://posterous.com/">Posterous</a>, <a href="http://uservoice.com/">UserVoice</a>, <a href="http://37signals.com/">37signals</a>, <a href="http://shopify.com/">Shopify</a>, <a href="http://github.com/">GitHub</a>, <a href="http://scribd.com/">Scribd</a>, <a href="http://hulu.com/">Hulu</a>,  <a href="http://yellowpages.com/">Yellow Pages</a>&mdash;вот <a href="http://rubyonrails.org/applications">список сайтов, использующих Rails</a> и он все пополняется и пополняется. Также существуют веб-магазины по разработке, специализирующиеся на Rails, такие как <a href="http://entp.com/">ENTP</a>, <a href="http://thoughtbot.com/">thoughtbot</a>, <a href="http://pivotallabs.com/">Pivotal Labs</a>, и <a href="http://hashrocket.com/">Hashrocket</a>, плюс бесчисленные независимые консультанты, преподаватели и контрагенты.</p>



<p>Что же делает Rails таким замечательным? Во-первых, Ruby on Rails на сто процентов открыт, доступен в силу <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a>, и, как результат, его можно загружать и использовать бесплатно. Rails также обязан своим успехом своему изящному и компактному дизайну; используя податливость лежащего в его основе языка <a   href="http://ruby-lang.org/">Ruby</a>, Rails фактически создает <a  href="http://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE-%D0%BE%D1%80%D0%B8%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9_%D1%8F%D0%B7%D1%8B%D0%BA_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F"> предметно-ориентированный язык (domain-specific language)</a> для написания веб-приложений. В результате много общих задач веб-программирования &#8211; таких как генерирование HTML, создание моделей данных и маршрутизация URL &#8211; легки с Rails, а результирующий код программ краток и читаем.</p>

<p>Rails также быстро адаптируется к новым тенденциям в веб-технологиях. Например, Rails был одним из первых, кто полностью реализовал архитектурный стиль REST для веб-приложений. И когда другие фреймворки успешно разрабатывают новые техники, создатель Rails <a href="http://loudthinking.com/">David Heinemeier Hansson</a> и <a href="http://rubyonrails.org/core">рабочая группа Rails</a> не стесняются использовать их идеи. Пожалуй, наиболее ярким примером является слияние Rails и Merb (конкурирующая веб-платформа), так что Rails теперь получает преимущества от модульной конструкции Merb, стабильного <a href="http://ru.wikipedia.org/wiki/API">API</a>, а также повышенной производительности.(Любой, кто следил за переговорами между разработчиком Merb и членом рабочей группы Rails <a href="http://yehudakatz.com/">Yehuda Katz</a> не может не заметить, что чрезвычайно хорошей идеей было принять на борт команду Merb.)</p>

<p>Наконец, Rails выигрывает от необычайно увлечённого и разнообразного сообщества. Результаты: сотни open-source <a href="http://contributors.rubyonrails.org/">соразработчиков</a>, хорошо посещаемые <a href="http://railsconf.com/">конференции</a>, огромное количество <a href="http://agilewebdevelopment.com/plugins">плагинов</a> и <a href="http://rubygems.org/">гемов</a> (автономные решения конкретных проблем, таких как постраничный вывод, и загрузка изображений), богатый набор информативных блогов, и рог изобилия форумов и каналов IRC. Большое количество активных программистов Rails также облегчает обработку неизбежных ошибок приложений: алгоритм &#8211; “Ищи в Google сообщение об ошибке” &#8211; почти всегда добывает соответствующее сообщение в блоге или ветке форума.</p>

<div class="label" id="sec:comments_for_various_readers"></div>


<h3><a id="sec:1.1.1" href="beginning?version=3.0#sec:comments_for_various_readers" class="heading"><span class="number">1.1.1</span> Комментарии для разных читателей</a></h3>


<p><em>Учебник Rails</em> содержит интегрированные учебники не только по Rails, но и по лежащему в его основе Ruby, а также <a href="http://ru.wikipedia.org/wiki/HTML">HTML</a>, <a href="http://ru.wikipedia.org/wiki/CSS">CSS</a>, немного <a href="http://ru.wikipedia.org/wiki/JavaScript">JavaScript</a>, и даже чуть чуть <a href="http://ru.wikipedia.org/wiki/SQL">SQL</a>. Это означает, что, независимо от ваших знаний веб-разработки, к моменту завершения этого учебника вы будете готовы для более продвинутых Rails ресурсов, а также к более систематичной проработке других упомянутых тем.</p>

<p>Rails получает большую часть своей силы от &laquo;магии&raquo;, то есть от функций платформы (таких, как автоматическое добавление атрибутов объекта из столбцов базы данных), совершающих чудеса, но чьи механизмы могут быть весьма таинственными. <em>Учебник Ruby on Rails </em> не ставит своей целью объяснение всех этих чудес - главным образом, потому что большинству разработчиков приложений Rails никогда не понадобится знать, что находится за занавесом. (В конце концов, сам Ruby главным образом (по большей части) пишется на языке программирования C, но вы не должны копаться в исходниках C, чтобы использовать Ruby.) Если вы - неисправимый "сдергиватель занавесов", я рекомендую книгу <a href="http://www.amazon.com/gp/product/0321601661"><em>The Rails&nbsp;3 Way</em></a> Оби Фернандеса в качестве сопроводительной литературы к <em>Ruby on Rails Tutorial</em>.</p>

<p>Хотя у этой книги нет никаких формально обязательных требований, вы должны иметь, по крайней мере <em>некоторый</em> опыт работы с компьютером. Если вы никогда раньше не использовали  даже текстовый редактор, будет тяжело, но если у вас достаточно решимости вы, вероятно, дойдёте до конца. Если, с другой стороны, ваш <code>.emacs</code> файл настолько сложен, что может заставить плакать взрослого мужчину, есть все еще много материалов, для вашего развития. <em>Rails Tutorial</em> предназначен для обучения разработке на Rails вне зависимости от ваших знаний, но ваш путь и впечатление от чтения  будут зависеть от ваших индивидуальных обстоятельств. <br /></p>

<p><strong>Все читатели:</strong>  Один общий вопрос при изучении Rails состоит в том, изучить ли Ruby сначала. Ответ зависит от вашего персонального стиля обучения. Если вы предпочитаете изучать все систематически с нуля, то изучение Ruby сначала могло бы подойти для вас, и есть несколько книжных рекомендаций в этом разделе, чтобы дать вам возможность начать. С другой стороны много начинающих Rails разработчиков  вдохновляются созданием веб-приложений, и скорее всего не станут сидеть над книгой в 500 страниц о чистом Ruby прежде чем написать единственную веб-страницу. Кроме того, приёмы необходимые для Rails разработчиков отличается от тех, что вы найдете в введении к книге по Ruby, тогда как Rails Tutorial посвящен именно приёмам работы с Rails. Если ваш основной интерес в написании веб-приложений, я рекомендую начинать с Rails Tutorial, а затем читать книги по Ruby. Это не бескомпромиссное предложение: если вы начнете читать Учебное руководство Rails и почувствуете что ваше (отсутствующее) знание Ruby, сдерживает вас, без опасений переключайтесь на книгу по Ruby и возвращайтесь, когда почувствуете себя готовым. Вы можете также познакомиться с Ruby, следуя коротким онлайновым учебным руководствам, вроде тех что могут быть найдены на <a href="http://www.ruby-lang.org/">http://www.ruby-lang.org/</a> или <a href="http://rubylearning.com/">http://rubylearning.com/</a>.</p>

<p>Другой распространенный вопрос, состоит в том, стоит ли использовать тестирование с самого начала. Как было отмечено во введении, <em>Rails Tutorial</em> использует разработку через тестирование (также называемую "сначала тест" разработкой), которая по моему мнению является лучшим способом разработки Rails приложений, но это действительно привносит значительный объем работы и сложностей. Если вы обнаружили себя застрявшим на тестировании, не стесняйтесь пропустить его при первом прочтении.<sup class="footnote" id="fnref:1.5"><a href="#fn:1.5">5</a></sup> Действительно, некоторые читатели могут запутаться в таких вещах, как тестирование, системе контроля версий, а также в развертывании приложения, если вы не найдете в себе энергии по любому из этих шагов, <em>пожалуйста, пропустите их</em>. Хотя у меня включен только материал, который я считаю чрезвычайно важным для разработки профессиональных Rails приложений, только код основного приложения является строго необходимым в первое время. <br /></p>

<p><strong>Неопытные программисты (не дизайнеры)</strong>: Учебник Rails не предполагает наличие других знаний, кроме общей компьютерной грамотности, поэтому, если у вас ограниченный опыт программирования, то эта книга является хорошим стартом. Пожалуйста, имейте в виду, что это только первый шаг на долгом пути; веб-разработка включает в себя множество вопросов, таких как HTML / CSS, JavaScript, базы данных (включая SQL), системы контроля версиями и развертывание. Эта книга содержит лишь краткое введение в эти вопросы, но еще многое нужно изучать дополнительно. <br /></p>

<p><strong>Неопытные программисты (веб дизайнеры)</strong>: ваши навыки веб дизайна будут вам большим подспорьем, поскольку вы уже, вероятно, знаете HTML и CSS. После прочтения этой книги вы будете готовы работать с увлекательными проектами Rails и у вас будет возможность начать собственный проект. Вы можете обнаружить материал программирования непростым, но язык Ruby необычайно дружелюбен к  новичкам, особенно к тем, у кого есть художественные наклонности.<br /></p>

<p>После окончания <em>Ruby on Rails Учебника</em>, я рекомендую, малознакомое  программистам чтиво <a href="http://www.amazon.com/gp/product/1430223634"><em>Beginning Ruby</em></a> Питера Купера, который отчасти использует ту же самую основную концепцию обучения что и <em>Rails Учебник</em>. Я также рекомендую <a href="http://www.amazon.com/gp/product/0672328844"><em>The Ruby Way</em></a> Хэла Фултона. Наконец, чтобы получить более глубокое понимание Rails, я рекомендую <a href="http://www.amazon.com/gp/product/0321601661"><em>The Rails&nbsp;3 Way</em></a> Оби Фернандеса.</p>

<p>Веб-приложения, даже относительно простые, по своей природе довольно сложны. Если вы абсолютный новичок в веб-программировании и <em>Учебник Rails</em> для вас слишком сложен, вполне возможно, что вы все же не совсем готовы к созданию веб-приложений. В этом случае я предложил бы вам изучить основы HTML и CSS, а затем дать <em>Учебнику Rails</em> еще один шанс. (К сожалению, здесь  у меня нет персональной рекомендации, но <a href="http://headfirstlabs.com/books/hfhtml/"><em>Head First HTML</em></a> выглядит многообещающе, и один читатель рекомендовал <a href="http://www.amazon.com/gp/product/0596526873"><em>CSS: The Missing Manual</em></a> (автор -  David Sawyer McFarland). Вы могли бы также рассмотреть чтение первых нескольких глав <a href="http://www.amazon.com/gp/product/1430223634"><em>Beginning Ruby</em></a>, которое начинается с примеров, намного меньших нежели развитое веб-приложение. <br /></p>

<p><strong>Опытные программисты, плохо знакомые с веб-разработкой</strong>: ваш предшествующий опыт означает, что вы, вероятно, уже понимаете такие идеи как классы, методы, структуры данных, и т.д., что является большим преимуществом. Предупреждаю, что, если вы ранее программировали на C/C ++ или Java, вы можете найти Ruby немного странным, и может потребоваться некоторое время, чтобы привыкнуть к нему; в конце концов вы справитесь. (Ruby даже позволит вам помещать точки с запятой в конце строк, если вы сильно по ним скучаете.) Учебное руководство Rails освещает все веб-специфичные идеи, которые вам нужны, так что не волнуйтесь, что не знаете в настоящий момент чем отличается <tt>PUT</tt> от <tt>POST</tt>.<br /></p>

<p><strong>Опытные веб-разработчики, плохо знакомые с Rails:</strong> у вас есть большое преимущество, особенно если вы ранее использовали динамический язык, такой как PHP или (даже лучше) Python. Основа того, что мы освещаем, вероятно, будет знакома, но разработка через тестирование может оказаться в новинку для вас, как может быть и структурно оформленный REST стиль, излюбленный Рельсами. У Ruby есть свои собственные характерные особенности, так что они,  вероятно, также будут в новинку.<br /></p>

<p><strong>Опытные Ruby программисты:</strong> группа Ruby программистов, которые не знают Rails, является в настоящее время довольно малочисленной, но если вы - член этой элитной группы, можете пролистать эту книгу, а затем перейти к <a href="http://www.amazon.com/gp/product/0321601661"><em>The Rails&nbsp;3 Way</em></a> Оби Фернандеса. <br /></p>

<p><strong>Неопытные программисты Rails:</strong> вы, возможно, читали некоторые другие учебные руководства и сделали несколько небольших Rails приложений самостоятельно. Основываясь на отзывах читателей, я уверен, что вы можете многое почерпнуть из этой книги. Между прочим, методы здесь могут оказаться более актуальными чем те, которые вы добыли, когда первоначально изучали Rails. <br /></p>

<p><strong>Опытные программисты  Rails:</strong> Эта книга не нужна вам, но многие опытные разработчики Rails удивляются тому сколько нового они узнают из этой книги к тому же вам может понравиться посмотреть на Rails с другой точки зрения. <br /></p>

<p>После прочтения <em>Учебника Ruby on Rails</em> я рекомендую опытным (не-Ruby) программистам почитать <a href="http://www.amazon.com/gp/product/1933988657"><em>The Well-Grounded Rubyist</em></a> автора David&nbsp;A. Black, это отличный глубокий материал, описывающий Rails с самых основ, или <a href="http://www.amazon.com/gp/product/0672328844"><em>The Ruby Way</em></a> Хэла Фултона, который также имеет высокий уровень, но проявляет более актуальный подход. Затем переходите на <a href="http://www.amazon.com/gp/product/0321601661"><em>The Rails&nbsp;3 Way</em></a> для углубления ваших знаний о Rails.<br /></p>

<p>В конце этого процесса, независимо от того где вы начали, вы будете готовы к более-менее продвинутым ресурсам Rails. Вот некоторые из тех, что я особенно рекомендую:</p>

<ul>

<li><a href="http://railscasts.com/">Railscasts</a>: Замечательные бесплатные Rails скринкасты <span class="c1">(# очень рекомендую их качественный перевод на русский на <a href="http://www.railscasts.ru/">http://www.railscasts.ru/</a> )</span></li>
<li><a href="http://peepcode.com/">PeepCode</a>, <a href="http://pragmatic.tv/">Pragmatic.tv</a>, <a href="http://envycasts.com/">EnvyCasts</a>: Замечательные платные скринкасты</li>
<li><a href="http://guides.rubyonrails.org/">Rails Guides</a>: Хорошие актуальные и обновленные Rails руководства. <em>Учебник Rails</em> часто рекомендует <em>Rails Guides</em> для более углубленного изучения определенных тем.(<span class="c1"> # их перевод можно найти на <a href="http://www.rusrails.ru/">http://www.rusrails.ru/</a> </span>)</li>
<li><a href="http://www.google.com/search?q=ruby+on+rails+blogs#hl=ru&sugexp=llsfp&pq=ruby%20on%20rails%20blogs&xhr=t&q=ruby+on+rails+%D0%B1%D0%BB%D0%BE%D0%B3&cp=19&pf=p&sclient=psy&aq=0&aqi=&aql=&oq=ruby+on+rails+%D0%B1%D0%BB%D0%BE%D0%B3&pbx=1&fp=22ec42d6ec1b9a43&bs=1">Rails блоги</a>: Слишком много, чтобы составить их список, но там содержатся тонны полезной информации. </li>

</ul>




<h3><a id="sec:1.1.2" href="beginning?version=3.0#sec:1.1.2" class="heading"><span class="number">1.1.2</span> &ldquo;Масштабирование&rdquo;  Rails</a></h3>


<p>Прежде чем двигаться дальше, я хотел бы воспользоваться моментом для решения одного вопроса, преследовавшего Rails прежде всего в первые дни его существования: мнимая неспособность Rails к &laquo;масштабируемости&raquo;, то есть к обработке большого трафика. Частично этот вопрос опирается на заблуждение; <a href="http://idleprocess.wordpress.com/2009/11/24/presentation-summary-high-performance-at-massive-scale-lessons-learned-at-facebook/">вы масштабируете <em>сайт</em>, а не фреймворк</a>, и Rails, каким бы обалденным не был &#8211; лишь фреймворк. Таким образом, реальный вопрос должен звучать так: &laquo;Может ли сайт построенный на Rails масштабироваться?&raquo; В любом случае, на этот вопрос теперь можно окончательно ответить утвердительно: некоторые из наиболее нагруженных сайтов в мире используют Rails. Вообще масштабирование выходит за рамки Rails, но будьте уверены, что если <em>вашему</em> приложению нужно будет справиться с нагрузкой как у Hulu либо как у Yellow Pages, Rails не помешает вам покорить мир.</p>

<div class="label" id="sec:conventions"></div>


<h3><a id="sec:1.1.3" href="beginning?version=3.0#sec:conventions" class="heading"><span class="number">1.1.3</span> Соглашения в этой книге</a></h3>


<p>Соглашения в этой книге главным образом очевидны; в этом разделе я упомяну лишь те которые, возможно, таковыми не являются.</p>

<p>И <a href="http://railstutorial.org/book">HTML</a> и <a href="http://railstutorial.org/">PDF</a> выпуски этой книги полны ссылками, как к внутренним разделам (таким как <a class="ref" href="beginning?version=3.0#sec:up_and_running">Раздел&nbsp;1.2</a>) так и к внешним сайтам (таким как <a href="http://rubyonrails.org/download">основная страница загрузки Ruby on Rails</a> ).<sup class="footnote" id="fnref:1.6"><a href="#fn:1.6">6</a></sup></p>

<p>Много примеров в этой книге используют командную строку. Для простоты, все примеры командной строки используют приглашение командной строки  в Unix-стиле (знак доллара):</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">echo</span> <span class="s2">&quot;hello, world&quot;</span>
<span class="go">hello, world</span>
</pre></div>
</div>


<p>Пользователи Windows должны понимать, что их системы будут использовать в качестве приглашения угловую скобку&nbsp;<tt>&gt;</tt>:</p>

<div class="code"><div class="highlight"><pre><span class="go">C:\Sites&gt;echo hello, world</span>
<span class="go">hello, world</span>
</pre></div>
</div>


<p>В Unix системах некоторые команды должны быть выполнены с <code>sudo</code> (от “substitute user do”). По умолчанию, команда выполняемая с <code>sudo</code> выполняется как команда администратора у которого есть доступ к файлам и каталогам которые недоступны обычному пользователю, таким как в этом примере из <a class="ref" href="beginning?version=3.0#sec:rubygems">Раздела&nbsp;1.2.2</a>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> sudo ruby setup.rb
</pre></div>
</div>


<p>Большинство систем Unix/Linux/OS X требует <code>sudo</code> по умолчанию, за исключением использования Ruby Version Manager как рекомендуется в <a class="ref" href="beginning?version=3.0#sec:install_ruby">Разделе&nbsp;1.2.2.3</a>; в этом случае вы можете писать:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ruby setup.rb
</pre></div>
</div>


<p>Rails поставляется с большим количеством команд, которые можно запустить в командной строке. Например, в <a class="ref" href="beginning?version=3.0#sec:rails_server">Разделе&nbsp;1.2.5</a> мы запускаем локальный веб-сервер разработки следующим образом:</p>

<div class="code"><div class="highlight"><pre><span class="nv">$ </span>rails server
</pre></div>
</div>


<p>Как и с приглашением командной строки, <em>Учебник Rails</em> использует конвенцию Unix для разделителей каталога (то есть, косую черту наклоненную вправо&nbsp;<tt>/</tt>). Мой пример приложения из Учебника Rails, например, живет в</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app</pre>


<p>На Windows аналогичный каталог выглядел бы</p>

<pre class="verbatim">C:\Sites\sample_app</pre>


<p>Корневой каталог для любого приложения называется Rails root, и впредь все каталоги будут относительно этого каталога. (Отметьте в особенности, что “Rails root” <em>не является</em> корневым каталогом для Rails непосредственно.)  Например, каталог <code>config</code> моего примера приложения это</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app/config</pre>


<p>Корень Rails здесь - все что перед <code>config</code>, то есть,</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app</pre>


<p>Для краткости, при обращении к файлу</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app/config/routes.rb</pre>


<p>я пропущу корень Rails и просто запишу <code>config/routes.rb</code>.</p>

<p>Наконец, <em>Учебник Rails</em> часто показывает вывод из различных программ (команды оболочки, статус управления версиями, программ Ruby, и т.д.). Из-за неисчислимых небольших различий между различными компьютерными системами, вывод, который вы увидите, возможно, не всегда совпадет в точности с тем, который показывают в тексте, но это не повод для беспокойства. Кроме того, некоторые команды могут вызывать ошибки зависящие от вашей системы; вместо того, чтобы пытаться выполнить <a   href="http://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D0%B7%D0%B8%D1%84%D0%BE%D0%B2_%D1%82%D1%80%D1%83%D0%B4">Сизифову</a> задачу документирования всех таких погрешностей в этом учебном руководстве, я делегирую к алгоритму  “Ищи в Google сообщение об ошибке”, который между прочим является  весьма хорошей практикой для реального программирования.</p>

<div class="label" id="sec:up_and_running"></div>


<h2><a id="sec:1.2" href="beginning?version=3.0#sec:up_and_running" class="heading"><span class="number">1.2</span> За работу</a></h2>


<p>Пришло время, чтобы взяться за дело со средой разработки Ruby on Rails и нашим первым приложением. Здесь будет немного лишних действий, особенно если у вас нет большого опыта программирования, так что не разочаровывайтесь, если вам понадобится потратить какое-то время прежде чем вы сможете начать работу. Это не только вы; каждый разработчик проходит через это (часто не раз), но будьте уверены, что эти усилия будут щедро вознаграждены.</p>

<div class="label" id="sec:development_tools"></div>


<h3><a id="sec:1.2.1" href="beginning?version=3.0#sec:development_tools" class="heading"><span class="number">1.2.1</span> Среда разработки</a></h3>


<p>Принимая во внимание различные своеобразные настройки и предпочтения, вероятно, существует столько вариантов сред разработки, сколько и Rails программистов, но есть, по крайней мере, две общие темы: текстовый редактор/командная строка и интегрированная среда разработки (IDE). Рассмотрим последнюю первой.</p>

<h4><a id="sec:1.2.1.1" href="beginning?version=3.0#sec:1.2.1.1" class="heading">IDE</a></h4>


<p>В IDE для Rails дефицита нет, основные &#8211;  <a href="http://www.aptana.com/rails/">RadRails</a>, <a href="http://www.jetbrains.com/ruby/index.html">RubyMine</a>, и <a href="http://www.codegear.com/products/3rdrail">3rd Rail</a>. Все они кросс-платформенные, и я слышал хорошие вещи о некоторых из них. Я призываю вас попробовать их и посмотреть, подходят ли они вам, но признаюсь: я ниразу не встречал  IDE, которая удовлетворяла бы все мои потребности в сфере разработки на Rails - а некоторые IDE я даже не смог запустить.</p>

<h4><a id="sec:1.2.1.2" href="beginning?version=3.0#sec:1.2.1.2" class="heading">Текстовые редакторы и инструменты командной строки</a></h4>


<p>Чем же мы должны пользоваться  для разработки приложений Rails, если не какой-либо из грозных IDE все-в-одном? Я думаю, большинство Rails разработчиков выбирают то же, что и я: использовать <em>текстовый редактор</em> для редактирования текста, а <em>командную строку</em> для выполнения команд (<a class="ref" href="beginning?version=3.0#fig:editor_shell">Рис.&nbsp;1.1</a>). Их комбинация зависит от ваших предпочтений и платформы:</p>

<ul>
<li><strong>Macintosh OS X:</strong> Подобно многим разработчикам на Rails, я предпочитаю <a href="http://macromates.com/">TextMate</a>. Другие дополнительные варианты включают Emacs и  <a href="http://code.google.com/p/macvim/">MacVim</a> (запускаемый командой <code>mvim</code>), великолепную Макинтош-версию Vim. <sup class="footnote" id="fnref:1.7"><a href="#fn:1.7">7</a></sup> Я использую <a href="http://iterm.sourceforge.net/">iTerm</a> для терминала командной строки; другие превосходно довольствуются встроенным приложением Terminal.</li>

<li><strong>Linux:</strong> ваш выбор редакторов в основном аналогичен OS X, за исключением TextMate.  Я рекомендовал бы графический Vim (gVim), <a href="http://projects.gnome.org/gedit/">gedit</a> (с плагинами <a href="http://blog.siverti.com.br/gmate/">GMate</a>), или <a href="http://kate-editor.org/">Kate</a>. Что касается командной строки - вы полностью упакованы: каждый дистрибутив Linux идет, по крайней мере, с одним терминальным приложением командной строки (а часто и с несколькими).</li>

<li><strong>Windows:</strong> Есть несколько многообещающих редакторов для Windows включая <a href="http://www.vim.org/download.php#pc">Vim</a>, <a href="http://www.e-texteditor.com/">E&nbsp;Text Editor</a>, <a href="http://www.activestate.com/komodo_edit/">Komodo Edit</a>, и <a href="http://www.sublimetext.com/">Sublime Text</a>. Для командной строки я рекомендую использовать ту, которая идет с <a href="http://rubyforge.org/frs/download.php/75114/railsinstaller-1.3.0.exe">Rails Installer</a> (<a class="ref" href="beginning?version=3.0#sec:rails_installer_windows">Раздел&nbsp;1.2.2.1</a>).  </li>

</ul>


<p>Если вы поклонник Vim, не забудьте присоединиться к процветающему сообществу <a href="http://www.google.com/search?q=vim+rails">использующих Vim Rails хакеров</a>. Особенно обратите внимание на <a href="http://www.vim.org/scripts/script.php?script_id=1567">rails.vim</a> расширение и <a href="http://www.vim.org/scripts/script.php?script_id=1658">NERD tree</a> project drawer (??).</p>

<div class="label" id="fig:editor_shell"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/editor_shell.png" alt="editor_shell" /></span></div><div class="caption"><span class="header">Рисунок 1.1: </span><span class="description">Среда разработки   &laquo;текстовый редактор /командная строка&laquo;  (TextMate/iTerm).  <a href="http://railstutorial.org/images/figures/editor_shell-full.png">(полный размер)</a></span></div></div>




<h4><a id="sec:1.2.1.3" href="beginning?version=3.0#sec:1.2.1.3" class="heading">Браузеры</a></h4>


<p>Хотя среди веб-браузеров есть из чего выбрать, подавляющее большинство программистов Rails используют Firefox, Safari, или Chrome, при разработке. Скриншоты в Учебнике Rails обычно сделаны в браузере Firefox. Если вы используете Firefox, я советую использовать <a href="http://getfirebug.com/">Firebug</a> надстройку, которая позволяет выполнять все виды магии, такие как динамическая проверка (и даже редактирование) структуры HTML и CSS правил на любой странице. Для тех, кто не использует Firefox, <a href="http://getfirebug.com/firebuglite">Firebug Lite</a> работает  с большинством других браузеров, а у Safari и Chrome есть встроенная, &laquo;Просмотр кода элемента&raquo; функция, доступная по щелчку правой кнопкой мыши на любой части страницы.</p>

<h4><a id="sec:1.2.1.4" href="beginning?version=3.0#sec:1.2.1.4" class="heading">Примечание об инструментах</a></h4>


<p>В процессе становления и запуска вашей среды разработки, вы можете обнаружить, что вы тратите  <em>много</em> времени, на получение правильных навыков работы. Процесс обучения для редакторов и IDE особенно длинен; можно потратить недели на TextMate или одни только учебные руководства Vim. Если вы плохо знакомы с этим делом, я хочу уверить вас, что <em>тратить время на изучение инструментов - это нормально</em>. Все проходят через это. Иногда это печалит, и раздражает, особенно когда у вас в голове есть потрясающее веб-приложение, и вы <em>просто хотите выучить Rails</em>, но тратите неделю изучая некий таинственный древний редактор Unix только чтобы начать. Но мастер должен знать свои инструменты; в итоге усилия будут вознаграждены.</p>

<div class="label" id="sec:rubygems"></div>


<h3><a id="sec:1.2.2" href="beginning?version=3.0#sec:rubygems" class="heading"><span class="number">1.2.2</span> Ruby, RubyGems, Rails, и Git</a></h3>


<p>Теперь пора установить Ruby и Rails. Классический способ установки - из исходников со <a href="http://rubyonrails.org/download">страницы загрузки Ruby on Rails</a>. Я предполагаю, что  вы можете перейти туда сейчас; некоторые части этой книги могут быть прочитаны с пользой и в оффлайне, но только не эта часть. Я лишь прокомментирую некоторые  шаги.</p>

<div class="label" id="sec:rails_installer_windows"></div>


<h4><a id="sec:1.2.2.1" href="beginning?version=3.0#sec:rails_installer_windows" class="heading">Rails Installer (Windows)</a></h4>


<p>Установка Rails на Windows применялась раньше как орудие пыток, но благодаря усилиям хороших людей в <a href="http://engineyard.com/">Engine Yard</a>&mdash;особенно Dr.&nbsp;Nic Williams и Wayne&nbsp;E. Seguin&mdash;установка Rails и связанного программного обеспечения на Windows, теперь невероятно легка. Если вы используете Windows, перейдите на <a href="http://rubyforge.org/frs/download.php/75114/railsinstaller-1.3.0.exe">Rails Installer</a> (<a href="http://rubyforge.org/frs/download.php/75114/railsinstaller-1.3.0.exe">http://rubyforge.org/frs/download.php/75114/railsinstaller-1.3.0.exe</a>) и загрузите исполняемый файл Rails Installer. Дважды кликните исполняемый файл и следуйте инструкциям, чтобы установить Git (таким образом, можете пропустить <a class="ref" href="beginning?version=3.0#sec:install_git">Раздел&nbsp;1.2.2.2</a>), Ruby (пропустите <a class="ref" href="beginning?version=3.0#sec:install_ruby">Раздел&nbsp;1.2.2.3</a>), RubyGems (пропустите <a class="ref" href="beginning?version=3.0#sec:install_rubygems">Раздел&nbsp;1.2.2.4</a>), и, непосредственно, Rails (пропустите <a class="ref" href="beginning?version=3.0#sec:install_rails">Раздел&nbsp;1.2.2.5</a>). Как только установка закончится, можете перейти к созданию первого приложения в <a class="ref" href="beginning?version=3.0#sec:the_first_application">Разделе&nbsp;1.2.3</a>.</p>

<div class="label" id="sec:install_git"></div>


<h4><a id="sec:1.2.2.2" href="beginning?version=3.0#sec:install_git" class="heading">Установка Git</a></h4>


<p>Большая часть экосистемы Rails так или иначе зависит  от <a href="http://en.wikipedia.org/wiki/Revision_control">системы управления версиями</a> называемой <a href="http://git-scm.com/">Git</a> (освещаемой более подробно в <a class="ref" href="beginning?version=3.0#sec:version_control">Разделе&nbsp;1.3</a>). Поскольку его использование является повсеместным, следует установить Git даже на этой ранней стадии; я предлагаю следовать инструкциям по установке для вашей платформы в разделе <a href="http://progit.org/book/ru/ch1-4.html">Установка Git (<em>Pro Git</em>)</a>.</p>

<div class="label" id="sec:install_ruby"></div>


<h4><a id="sec:1.2.2.3" href="beginning?version=3.0#sec:install_ruby" class="heading">Установка Ruby</a></h4>


<p>Следующий шаг это установка Ruby. Возможно, он уже есть в вашей системе; попытайтесь выполнить</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ruby -v
<span class="go">ruby 1.9.2</span>
</pre></div>
</div>


<p>чтобы увидеть номер версии. Rails&nbsp;3 требует Ruby&nbsp;1.8.7 или выше и работает лучше всего с Ruby&nbsp;1.9.2. Это учебное руководство предполагает, что бОльшая часть читателей использует самую свежую стабильную версию Ruby&nbsp;1.9.2, но Ruby&nbsp;1.8.7 также должен работать. В частности, пользователи Windows запустившие <a href="http://rubyforge.org/frs/download.php/75114/railsinstaller-1.3.0.exe">Rails Installer 1.3.0</a> получат Ruby&nbsp;1.8.7 как часть их установки.</p>

<p>Ветка Ruby&nbsp;1.9 находится в интенсивной разработке, поэтому, к сожалению, установка последней версии может оказаться непростой задачей. Вам придётся полагаться на интернет чтобы найти самые современные инструкции. Ниже приводится ряд шагов, после которых я привёл всё в рабочее состояние на моей системе (Macintosh OS&nbsp;X), но вам, возможно, придётся повозиться.</p>

<p>Как часть установки Ruby, если вы используете OS X или Linux, я строго рекомендую устанавливать Ruby с использованием  <a href="http://rvm.beginrescueend.com/">Ruby Version Manager (RVM)</a>, который позволит вам устанавливать и управлять различными версиями Ruby на одной машине. (Проект <a href="http://github.com/vertiginous/pik">Pik</a> совершает подобный подвиг для Windows.) Это особенно важно, если вы хотите запускать Rails&nbsp;3 и Rails&nbsp;2.3 на одной машине. Если вы хотите пойти этим маршрутом, я предлагаю использовать RVM для установки двух Ruby/Rails комбинаций: Ruby&nbsp;1.8.7/Rails&nbsp;2.3.10 и Ruby&nbsp;1.9.2/Rails&nbsp;3. Если вы столкнетесь с какими-либо проблемами с RVM, вы часто можете найти его создателя, Wayne E. Seguin, на канале IRC RVM  (<a href="http://webchat.freenode.net/?channels=rvm">#rvm на freenode.net</a>).<sup class="footnote" id="fnref:1.8"><a href="#fn:1.8">8</a></sup></p>

<p>После <a href="http://rvm.beginrescueend.com/rvm/install/">установки RVM</a>, вы можете установить Руби следующим образом:<sup class="footnote" id="fnref:1.9"><a href="#fn:1.9">9</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm get head
<span class="gp">$</span> rvm reload
<span class="gp">$</span> rvm install 1.8.7
<span class="gp">$</span> rvm install 1.9.2
<span class="go">&lt;придется немного подождать&gt;</span>
</pre></div>
</div>


<p>Здесь первые две команды обновляют и перезагружают сам RVM, что является полезной практикой так как RVM часто обновляется. Финальные две команды выполняют установку  Ruby; в зависимости от вашей системы они могут потребовать времени для загрузки и компиляции, так что не волнуйтесь, если покажется, что это займет целую вечность. (Также предостерегу, что много маленьких вещей может пойти не так. Например, на моей системе самая последняя версия Ruby 1.8.7 не захотела компилироваться; вместо этого, после большого поиска и рукоприкладства, я обнаружил, что нуждался в &ldquo;patchlevel&rdquo; номер 302:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm install 1.8.7-p302
</pre></div>
</div>


<p>Когда вещи вроде этой происходят с вами, это всегда расстраивает, но теперь вы, по крайней мере, знаете, что это происходит со всеми&hellip;)</p>

<p>Программы Ruby обычно распространяются посредством <em>гемов</em>, которые являются автономными пакетами Ruby-кода. Так как гемы с различными номерами версий иногда конфликтуют, часто удобно создать отдельные <em>gemsets</em>, которые являются автономными пакетами гемов. В частности Rails распространяется как гем, и есть конфликты между Rails&nbsp;2 и Rails&nbsp;3, поэтому, если вы хотите использовать различные версии Rails на одной системе, вы должны создать отдельный gemset для каждого:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm --create 1.8.7-p302@rails2tutorial
<span class="gp">$</span> rvm --create use 1.9.2@rails3tutorial
</pre></div>
</div>


<p>Здесь первая команда создает gemset <code>rails2tutorial</code> связанный с Ruby&nbsp;1.8.7-p302 , в то время как вторая команда создает gemset <code>rails3tutorial</code> связанный с Ruby&nbsp;1.9.2 и одновременно запускает его (посредством команды use). RVM поддерживает много различных команд для того, чтобы манипулировать gemsets; см. документацию в <a href="http://rvm.beginrescueend.com/gemsets/">http://rvm.beginrescueend.com/gemsets/</a>.</p>

<p>В этом учебном руководстве мы хотим, чтобы наша система использовала Ruby&nbsp;1.9.2 и Rails&nbsp;3 по умолчанию, чего мы можем добиться следующим образом:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm --default use 1.9.2@rails3tutorial
</pre></div>
</div>


<p>Что одновременно устанавливает использование Ruby&nbsp;1.9.2 и gemset <code>rails3tutorial</code> к нему по умолчанию.</p>

<p>Кстати, если вы когда-либо застрянете с RVM, выполнение этих команд может помочь вам:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm --help
<span class="gp">$</span> rvm gemset --help
</pre></div>
</div>


<div class="label" id="sec:install_rubygems"></div>


<h4><a id="sec:1.2.2.4" href="beginning?version=3.0#sec:install_rubygems" class="heading">Установка RubyGems</a></h4>


<p>RubyGems это диспетчер пакетов для проектов Ruby, и есть тонны замечательных библиотек (включая Rails) доступных как пакеты Ruby, или <em>gem</em>. Установка RubyGems должна быть легкой, раз уж вы установили Ruby. Фактически, если вы <a href="http://rvm.beginrescueend.com/rvm/install/">установили RVM</a>, у вас уже есть RubyGems, так как RVM включает его автоматически:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> which gem
<span class="go">/Users/mhartl/.rvm/rubies/ruby-head/bin/gem</span>
</pre></div>
</div>


<p>Если у вас еще нет его, следует <a href="http://rubyforge.org/frs/?group_id=126">загрузить RubyGems</a>, извлечь его, и затем перейти в <code>rubygems</code> каталог и выполнить программу установки:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ruby setup.rb
</pre></div>
</div>

<p>(Если вы получили здесь ошибку связанную с правами доступа (permissions error), вспомните про <a class="ref" href="beginning?version=3.0#sec:conventions">Раздел&nbsp;1.1.3</a> где написано что вам может потребоваться команда <code>sudo</code>.)</p>

<p>Если вы уже устанавливали RubyGems, вы можете захотеть обновить свою систему до версии, используемой в этом учебнике:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> gem update --system 1.8.5
</pre></div>
</div>


<p>Если вы используете Linux Ubuntu, вы можете захотеть посмотреть <a href="http://toranbillups.com/blog/archive/2010/09/01/How-to-install-Rails-3.0-and-Ruby-1.9.2-on-Ubuntu"> Ubuntu/Rails&nbsp;3.0 сообщение в блоге Toran Billups</a> для изучения полных инструкций по установке.</p>


<p>При установке гемов, RubyGems по умолчанию генерирует два различных вида документации (так называемые ri и rdoc), но многие Ruby и Rails разработчики считают, что время, затрачиваимое на их установку не стоит выгоды. (Многие программисты полагаются на онлайн-документацию, а не на нативные ri и rdoc документы.) Для предотвращения автоматической генерации документации, я рекомендую создать файл конфигурации, называемый <code>.gemrc</code> (находится (located) в вашем домашнем каталоге) со строкой из <a class="ref" href="/ruby-on-rails-tutorial-book#code:gemrc">Листинга&nbsp;1.1</a>.</p>

<div class="label" id="code:gemrc"></div>


<div class="codelisting">
<div class="listing"><span class="header">Листинг 1.1.</span> <span class="description">Подавление ri и rdoc документации с помощью <code>.gemrc</code>.</span>
</div>
<div class="code"><div class="highlight"><pre><span class="ss">gem:</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">ri</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">rdoc</span>
</pre></div>
</div></div>


<div class="label" id="sec:install_rails"></div>


<h4><a id="sec:1.2.2.5" href="beginning?version=3.0#sec:install_rails" class="heading">Установка Rails</a></h4>


<p>Поскольку вы уже установили RubyGems, установка Rails&nbsp;3 должна быть легкой. Этот учебник использует Rails 3.0.12 и мы можем установить их следующим образом:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> gem install rails --version 3.0.12
</pre></div>
</div>


<p>Чтобы проверить, что это работает, выполните следующую команду:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails -v
<span class="go">Rails 3.0.12</span>
</pre></div>
</div>

<p>Последней версией Rails на данный момент является Rails&nbsp;3.2. Для целей этого учебника, Rails&nbsp;3.0 в настоящий момент является более предпочтительным, в основном это связано с тем что экосистеме всегда требуется некоторое время для того чтобы адаптироваться к новой версии фреймворка. Кроме того, для целей начального обучения Rails, Rails&nbsp;3.0 и&nbsp;3.2 практически идентичны, так что почти все что вы узнаете здесь будет применимо и к Rails&nbsp;3.2 приложениям.</p>

<p>Есть несколько обратно-несовместимых изменений в Rails&nbsp;3.1, о которых вы можете узнать в <a class="ref" href="rails-3-1?version=3.0#top">Главе&nbsp;13</a>. В Rails&nbsp;3.1 есть также некоторые новые возможности и они вкратце описаны в <a class="ref" href="rails-3-1?version=3.0#top">Главе&nbsp;13</a>, которая также содержит ссылки на ресурсы, рассказывающие о них более подробно.  Наконец, будущее издание этой книги (и новая версия сопутствующих  <a href="http://railstutorial.org/screencasts">скринкастов</a>) будет использовать  Rails&nbsp;3.1 с самого начала, предположительно, включая введение в его новые фичи (такие как <a href="http://sass-lang.com/">Sass</a> и <a href="http://jashkenas.github.com/coffee-script/">CoffeeScript</a>).</p>



<div class="label" id="sec:the_first_application"></div>


<h3><a id="sec:1.2.3" href="beginning?version=3.0#sec:the_first_application" class="heading"><span class="number">1.2.3</span> Первое приложение</a></h3>


<p>Фактически все приложения Rails начинают одинаково - с команды <code>rails</code>. Эта удобная программа создает скелет приложения Rails в любом каталоге на ваш вкус. Для начала создайте каталог для своих проектов Rails, а затем выполните команду <code>rails</code>, чтобы создать первое приложение:</p>

<div class="label" id="code:rails_script"></div>


<div class="codelisting">
<div class="listing"><span class="header">Листинг 1.2.</span> <span class="description">Запуск <code>rails</code> скрипта , для генерации нового приложения.</span> </div>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> mkdir rails_projects
<span class="gp">$</span> <span class="nb">cd </span>rails_projects
<span class="gp">$</span> rails new first_app
<span class="go">      create  </span>
<span class="go">      create  README</span>
<span class="go">      create  .gitignore</span>
<span class="go">      create  Rakefile</span>
<span class="go">      create  config.ru</span>
<span class="go">      create  Gemfile</span>
<span class="go">      create  app</span>
<span class="go">      create  app/controllers/application_controller.rb</span>
<span class="go">      create  app/helpers/application_helper.rb</span>
<span class="go">      create  app/views/layouts/application.html.erb</span>
<span class="go">      create  app/models</span>
<span class="go">      create  config</span>
<span class="go">      create  config/routes.rb</span>
<span class="go">      create  config/application.rb</span>
<span class="go">      create  config/environment.rb</span>
<span class="go">      .</span>
<span class="go">      .</span>
<span class="go">      .</span>
</pre></div>
</div></div>


<p>Отметьте, сколько файлов и каталогов создает команда <code>rails</code>. Эта стандартная структура файлов и каталогов (<a class="ref" href="beginning?version=3.0#fig:directory_structure_rails_3">Рис.&nbsp;1.2</a>) является одним из многих преимуществ Rails; это немедленно переносит вас от нуля к действующему (минимально) приложению. Кроме того, так как эта структура является общей для всех приложений Rails, можно сразу сориентироваться, глядя на чей-либо код. Обзор дефолтных Rails файлов представлен в <a class="ref" href="beginning?version=3.0#table:rails_directory_structure">Таблице&nbsp;1.1</a>; мы  узнаем о большинстве этих файлов и каталогов в остальной части этой книги.</p>

<div class="label" id="fig:directory_structure_rails_3"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/directory_structure_rails_3.png" alt="directory_structure_rails_3" /></span></div><div class="caption"><span class="header">Рисунок 1.2: </span><span class="description">Структура каталогов недавно вылупившегося Rails приложения.&nbsp;<a href="http://railstutorial.org/images/figures/directory_structure_rails_3-full.png">(полный размер)</a></span></div></div>




<div class="label" id="table:rails_directory_structure"></div>


<div class="table"><div class="center"><table class="tabular"><tr><th class="align_left"><strong>Файл/Каталог</strong></th><th class="align_left"><strong>Назначение</strong></th></tr><tr class="top_bar"><td class="align_left"><tt>app/</tt></td><td class="align_left">Базовый код приложения, включает  модели, представления, контроллеры, и помощники (хелперы)</td></tr><tr><td class="align_left"><tt>config/</tt></td><td class="align_left">Конфигурация приложения</td></tr><tr><td class="align_left"><tt>db/</tt></td><td class="align_left">Файлы для манипуляций с базой данных</td></tr><tr><td class="align_left"><tt>doc/</tt></td><td class="align_left">Документация для приложения</td></tr><tr><td class="align_left"><tt>lib/</tt></td><td class="align_left">Модули библиотек</td></tr><tr><td class="align_left"><tt>log/</tt></td><td class="align_left">log файлы приложения</td></tr><tr><td class="align_left"><tt>public/</tt></td><td class="align_left">Публично доступные данные (например, веб-браузерам), такие как изображения и каскадные таблицы стилей (CSS)</td></tr><tr><td class="align_left"><tt>script/rails</tt></td><td class="align_left">Сценарии, предоставляемые Rails для генерирования кода, открытия консольных сессий, или запуска локального веб-сервера</td></tr><tr><td class="align_left"><tt>test/</tt></td><td class="align_left">Тесты приложения (ему на смену придет <tt>spec/</tt> директория в <a class="ref" href="static-pages?version=3.0#sec:static_pages_with_rails">Разделе&nbsp;3.1.2</a>)</td></tr><tr><td class="align_left"><tt>tmp/</tt></td><td class="align_left">Временные файлы</td></tr><tr><td class="align_left"><tt>vendor/</tt></td><td class="align_left">Сторонний код, такой как плагины и гемы</td></tr><tr><td class="align_left"><tt>README</tt></td><td class="align_left">Краткое описание (инструкция по использованию) приложения</td></tr><tr><td class="align_left"><tt>Rakefile</tt></td><td class="align_left">Служебные задачи, доступные через <code>rake</code>-команду</td></tr><tr><td class="align_left"><tt>Gemfile</tt></td><td class="align_left">Гемы необходимые для этого приложения</td></tr><tr><td class="align_left"><tt>config.ru</tt></td><td class="align_left">Конфигурационный файл для <a href="http://rack.rubyforge.org/doc/">Rack middleware</a></td></tr><tr><td class="align_left"><tt>.gitignore</tt></td><td class="align_left">Перечень файлов, которые должны игнорироваться Git</td></tr></table></div><div class="caption"><span class="header">Таблица 1.1: </span><span class="description">Обзор дефолтной структуры каталогов Rails.</span></div></div>




<div class="label" id="sec:bundler"></div>


<h3><a id="sec:1.2.4" href="beginning?version=3.0#sec:bundler" class="heading"><span class="number">1.2.4</span> Bundler</a></h3>


<p>После создания нового Rails приложения следующий шаг  &#8211; использование <code>Bundler</code>, для установки и включения гемов, необходимых приложению. Что подразумевает открытие <code>Gemfile</code> в вашем любимом текстовом редакторе:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">cd </span>first_app/
<span class="gp">$</span> mate Gemfile
</pre></div>
</div>


<p>Результат должен выглядеть примерно как <a class="ref" href="beginning?version=3.0#code:default_gemfile">Листинг&nbsp;1.3</a>.</p>

<div class="label" id="code:default_gemfile"></div>


<div class="codelisting">
<div class="listing"><span class="header">Листинг 1.3.</span> <span class="description">Дефолтный <code>Gemfile</code> в <code>first_app</code> каталоге.</span>
</div>
<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">&#39;http://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;rails&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0.12&#39;</span>

<span class="c1"># Bundle edge Rails instead:</span>
<span class="c1"># gem &#39;rails&#39;, :git =&gt; &#39;git://github.com/rails/rails.git&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span>

<span class="c1"># Use unicorn as the web server</span>
<span class="c1"># gem &#39;unicorn&#39;</span>

<span class="c1"># Deploy with Capistrano</span>
<span class="c1"># gem &#39;capistrano&#39;</span>

<span class="c1"># To use debugger</span>
<span class="c1"># gem &#39;ruby-debug&#39;</span>

<span class="c1"># Bundle the extra gems:</span>
<span class="c1"># gem &#39;bj&#39;</span>
<span class="c1"># gem &#39;nokogiri&#39;, &#39;1.4.1&#39;</span>
<span class="c1"># gem &#39;sqlite3&#39;</span>
<span class="c1"># gem &#39;aws-s3&#39;, :require =&gt; &#39;aws/s3&#39;</span>

<span class="c1"># Bundle gems for certain environments:</span>
<span class="c1"># gem &#39;rspec&#39;, :group =&gt; :test</span>
<span class="c1"># group :test do</span>
<span class="c1">#   gem &#39;webrat&#39;</span>
<span class="c1"># end</span>
</pre></div>
</div></div>


<p>Большинство этих строк закомментированы символом хеш&nbsp;<code>#</code>; они здесь для того, чтобы показать вам некоторые обычно необходимые гемы и дать примеры синтаксиса Bundler. Сейчас нам не понадобятся никакие гемы кроме дефолтных: Rails как таковой, и гем для взаимодействия Ruby с базой данных <a href="http://www.sqlite.org/">SQLite</a>.</p>

<p>Если вы не укажете номер версии <code>gem</code>-команде, Bundler автоматически установит самую последнюю версию. К сожалению, обновления гемов часто вызывают незначительные, но потенциально сбивающие с толку поломки, так что, в этом учебном руководстве мы обычно будем явно включать номер версии известной как работавшей, как видно в <a class="ref" href="beginning?version=3.0#code:gemfile_sqlite_version">Листинге&nbsp;1.4</a>.<sup class="footnote" id="fnref:1.10"><a href="#fn:1.10">10</a></sup></p>

<div class="label" id="code:gemfile_sqlite_version"></div>


<div class="codelisting">
<div class="listing"><span class="header">Листинг 1.4.</span> <span class="description"><code>Gemfile</code> с явной версией <tt>sqlite3</tt> гема.</span>
</div>
<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">&#39;http://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;rails&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0.12&#39;</span>
<span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span><span class="p">,</span> <span class="s1">&#39;1.3.3&#39;</span>
</pre></div>
</div></div>


<p>Это преобразует строку</p>

<div class="code"><div class="highlight"><pre><span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span>
</pre></div>
</div>


<p>из <a class="ref" href="beginning?version=3.0#code:default_gemfile">Листинга&nbsp;1.3</a> в</p>

<div class="code"><div class="highlight"><pre><span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span><span class="p">,</span> <span class="s1">&#39;1.3.3&#39;</span>
</pre></div>
</div>


<p>что принуждает Bundler, к установке версии <tt>1.3.3</tt> гема <tt>sqlite3</tt>. (Отметьте, что вам нужна версия <tt>1.2.5</tt> гема <tt>sqlite3-ruby</tt> если вы используете OS&nbsp;X Leopard:</p>

<div class="code"><div class="highlight"><pre><span class="n">gem</span> <span class="s1">'sqlite3-ruby'</span><span class="p">,</span> <span class="s1">'1.2.5'</span><span class="p">,</span> <span class="ss">:require</span> <span class="o">=&gt;</span> <span class="s1">'sqlite3'</span>
</pre></div>
</div>

<p>Это связано с тем, что последняя версия гема, теперь называемая просто <tt>sqlite3</tt>, требуется для компиляции Snow Leopard или более поздним версиям.)</p>


<p>Если вы используете Linux Ubuntu, вам, возможно, придется установить несколько других пакетов в этом пункте:<sup class="footnote" id="fnref:1.11"><a href="#fn:1.11">11</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> sudo apt-get install libxslt-dev libxml2-dev libsqlite3-dev    <span class="c"># Linux only</span>
</pre></div>
</div>


<p>Как только вы составили надлежащий <code>Gemfile</code>, установите гемы, используя <code>bundle install</code>:<sup class="footnote" id="fnref:1.12"><a href="#fn:1.12">12</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle install
<span class="go">Fetching source index for http://rubygems.org/</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>


<p>Это может занять некоторое время, но когда это будет сделано, наше приложение, будет готово к работе.</p>

<div class="label" id="sec:rails_server"></div>


<h3><a id="sec:1.2.5" href="beginning?version=3.0#sec:rails_server" class="heading"><span class="number">1.2.5</span> <code>rails server</code></a></h3>


<p>Благодаря выполнению <code>rails new</code> в  <a class="ref" href="beginning?version=3.0#sec:the_first_application">Разделе&nbsp;1.2.3</a> и <code>bundle install</code> в <a class="ref" href="beginning?version=3.0#sec:bundler">Разделе&nbsp;1.2.4</a>, у нас уже есть приложение, которое мы можем запустить&mdash;но как? К счастью, Rails поставляется с программой командной строки, или <em>скриптом</em>, который запускает <em>локальный</em> веб-сервер,<sup class="footnote" id="fnref:1.13"><a href="#fn:1.13">13</a></sup> видимый только на вашей рабочей машине:<sup class="footnote" id="fnref:1.14"><a href="#fn:1.14">14</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails server
<span class="go">=&gt; Booting WEBrick</span>
<span class="go">=&gt; Rails 3.0.12 application starting on http://0.0.0.0:3000</span>
<span class="go">=&gt; Call with -d to detach</span>
<span class="go">=&gt; Ctrl-C to shutdown server</span>
</pre></div>
</div>


<p>Это говорит нам, что приложение запущено в <a href="http://ru.wikipedia.org/wiki/TCP-порт">порту номер</a> 3000<sup class="footnote" id="fnref:1.15"><a href="#fn:1.15">15</a></sup> по адресу <code>0.0.0.0</code>. Этот адрес говорит компьютеру прослушивать каждый доступный IP-адрес, сконфигурированный на этой конкретной машине; в частности мы можем просмотреть приложение, используя специальный адрес <code>127.0.0.1</code>, который также известен как <code>localhost</code>. Мы можем видеть результат посещения <a href="http://localhost:3000/"><tt>http://localhost:3000/</tt></a> на <a class="ref" href="beginning?version=3.0#fig:riding_rails_3">Рис.&nbsp;1.3</a>.<sup class="footnote" id="fnref:1.16"><a href="#fn:1.16">16</a></sup></p>

<div class="label" id="fig:riding_rails_3"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/riding_rails_3.png" alt="riding_rails_3" /></span></div><div class="caption"><span class="header">Рисунок 1.3: </span><span class="description">Дефолтная страница Rails (<a href="http://localhost:3000/"><tt>http://localhost:3000/</tt></a>).&nbsp;<a href="http://railstutorial.org/images/figures/riding_rails_3-full.png">(полный размер)</a></span></div></div>


<p>Чтобы увидеть информацию о нашем первом приложении, щелкните по ссылке &ldquo;About your application&rsquo;s environment&rdquo;. Результат показан на <a class="ref" href="beginning?version=3.0#fig:riding_rails_3_environment">Рис.&nbsp;1.4</a>.<sup class="footnote" id="fnref:1.17"><a href="#fn:1.17">17</a></sup></p>

<div class="label" id="fig:riding_rails_3_environment"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/riding_rails_3_environment.png" alt="riding_rails_3_environment" /></span></div><div class="caption"><span class="header">Рисунок 1.4: </span><span class="description">Дефолтная страница Rails (<a href="http://localhost:3000/"><tt>http://localhost:3000/</tt></a>) со средой приложения.&nbsp;<a href="http://railstutorial.org/images/figures/riding_rails_3_environment-full.png">(полный размер)</a></span></div></div>


<p>Очевидно, что, в конечном итоге, дефолтная страница Rails нам не нужна, но сейчас приятно видеть, ее работающей. Мы удалим эту дефолтную страницу (и заменим ее пользовательской домашней страницей), в <a class="ref" href="filling-in-the-layout?version=3.0#sec:rails_routes">Разделе&nbsp;5.2.2</a>.</p>

<div class="label" id="sec:mvc"></div>


<h3><a id="sec:1.2.6" href="beginning?version=3.0#sec:mvc" class="heading"><span class="number">1.2.6</span> Модель-представление-контроллер (MVC)</a></h3>


<p>Даже на этой ранней стадии, полезно получить общее представление о том, как работают приложения Rails (<a class="ref" href="beginning?version=3.0#fig:MVC">Рис.&nbsp;1.5</a>). Вы, возможно, заметили, что в стандартной структуре приложения Rails (<a class="ref" href="beginning?version=3.0#fig:directory_structure_rails_3">Рис.&nbsp;1.2</a>) есть папка приложения, названная <code>app/</code> с тремя подкаталогами: <code>models</code>, <code>views</code>, и <code>controllers</code>. Это намек на то что Rails следует архитектурной схеме <a href="http://ru.wikipedia.org/wiki/MVC">модель-представление-контроллер</a> (MVC), которая осуществляет разделение между &ldquo;логикой предметной области&rdquo; (также называемой &ldquo;бизнес-логикой&rdquo;) от логики ввода и логики представления, связанной с графическим интерфейсом пользователя (GUI). В случае веб-приложений, &ldquo;логика предметной области&rdquo; обычно состоит из модели данных для таких вещей как пользователи, статьи, продукты, а GUI это просто веб-страница в браузере.</p>

<p>Взаимодействуя с приложением Rails, браузер отправляет <em>запрос</em>, который принимается веб-сервером и передается <em>контроллеру</em> Rails, отвечающему за то, что делать дальше. В некоторых случаях контроллер сразу визуализирует <em>представление</em>, которое является шаблоном, конвертирующим полученное в HTML и отсылающим назад к браузеру. Более обычно для динамичных сайтов, когда  контроллер взаимодействует с <em>моделью</em>, которая является объектом Ruby, который представляет  собой элемент сайта (такой как пользователь) и отвечает за коммуникацию с базой данных. После вызова модели, контроллер затем визуализирует представление и возвращает полную веб-страницу браузеру как HTML.</p>

<div class="label" id="fig:MVC"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/mvc_schematic.png" alt="mvc_schematic" /></span></div><div class="caption"><span class="header">Рисунок 1.5: </span><span class="description">Схематичное изображение модель-представление-контроллер (MVC) архитектуры.</span></div></div>


<p>Если это обсуждение кажется сейчас немного абстрактным, не беспокойтесь; мы будем часто возвращаться к этому разделу. В дополнение, в <a class="ref" href="a-demo-app?version=3.0#sec:mvc_in_action">Разделе&nbsp;2.2.2</a> есть более детальное обсуждение MVC в контексте демонстрационного приложения. Наконец, пример приложения будет использовать все аспекты MVC; мы осветим контроллеры и представления, в <a class="ref" href="static-pages?version=3.0#sec:static_pages_with_rails">Разделе&nbsp;3.1.2</a>, модели начнутся в <a class="ref" href="modeling-and-viewing-users-one?version=3.0#sec:user_model">Разделе&nbsp;6.1</a>, и мы увидим, совместную работу триады в <a class="ref" href="modeling-and-viewing-users-one?version=3.0#sec:users_show">Разделе&nbsp;6.3.2</a>.</p>

<div class="label" id="sec:version_control"></div>


<h2><a id="sec:1.3" href="beginning?version=3.0#sec:version_control" class="heading"><span class="number">1.3</span> Управление версиями с Git</a></h2>


<p>Теперь, когда у нас есть новое и рабочее приложение Rails, мы займем одну минуту для шага, который, хотя технически необязателен, видится многим разработчиками Rails как фактически обязательный, а именно, помещение исходного кода нашего приложения в <em>систему управление версиями</em>. Системы управления версиями позволяют нам отслеживать изменения кода нашего проекта, облегчают совместную работу, и могут откатывать любые непреднамеренные погрешности (такие как случайное удаление файлов). Грамотное использование системы управления версиями - необходимый навык для каждого разработчика программного обеспечения.</p>

<p>Есть много возможностей для управления версиями, но сообщество Rails в значительной степени стандартизировано под <a href="http://git-scm.com/">Git</a>, распределенную систему управления версиями, первоначально разработанную Linus Torvalds, для размещения ядра Linux. Git &#8211; большая тема, и мы лишь слегка коснемся ее в этой книге, но есть много хороших бесплатных онлайн ресурсов; я особенно рекомендую <a href="http://progit.org"><em>Pro Git</em></a> автора Scott Chacon (Apress, 2009). Помещение вашего исходного кода в систему управления версиями с Git <em>строго</em> рекомендуется, не только потому, что это почти универсальная практика в мире Rails, но также и потому что это позволит вам легко  открыть доступ к вашему коду (<a class="ref" href="beginning?version=3.0#sec:github">Раздел&nbsp;1.3.4</a>) и развернуть ваше приложение прямо здесь в первой главе (<a class="ref" href="beginning?version=3.0#sec:deploying">Раздел&nbsp;1.4</a>).</p>

<div class="label" id="sec:git_setup"></div>


<h3><a id="sec:1.3.1" href="beginning?version=3.0#sec:git_setup" class="heading"><span class="number">1.3.1</span> Установка и настройка</a></h3>


<p>Первый шаг это установка Git, если вы еще не выполнили шаги в <a class="ref" href="beginning?version=3.0#sec:install_git">Разделе&nbsp;1.2.2.2</a>. (Как отмечено в том разделе, это подразумевает следование инструкциям в <a href="http://progit.org/book/ch1-4.html">Installing Git разделе <em>Pro Git</em></a>.)</p>

<h4><a id="sec:1.3.1.1" href="beginning?version=3.0#sec:1.3.1.1" class="heading">Первоначальная настройка системы</a></h4>


<p>После установки Git следует выполнить ряд разовых настроек. Это <em>системные</em> настройки, что означает, что их необходимо сделать лишь единожды:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git config --global user.name <span class="s2">&quot;Your Name&quot;</span>
<span class="gp">$</span> git config --global user.email youremail@example.com
</pre></div>
</div>


<p>Мне также нравится использовать <code>co</code> вместо более громоздкой  <code>checkout</code> команды, мы можем сделать это следующим образом:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git config --global alias.co checkout
</pre></div>
</div>


<p>Этот учебник будет обычно использовать полную <code>checkout</code> команду, которая работает на системах не имеющих <code>co</code> конфигурации, но в реальной жизни я почти всегда использую <code>git co</code>.</p>

<p>В качестве финального шага установки, можно дополнительно установить редактор который Git будет использовать для сообщений о фиксации (коммите). Если вы используете графический редактор, такой как TextMate, gVim, или MacVim, вы должны использовать флаг, чтобы быть уверенным, что редактор остается присоединенным к оболочке вместо того, чтобы отсоединиться сразу:<sup class="footnote" id="fnref:1.18"><a href="#fn:1.18">18</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git config --global core.editor <span class="s2">&quot;mate -w&quot;</span>
</pre></div>
</div>


<p>Замените <code>"mate -w"</code> на <code>"gvim -f"</code> для gVim или <code>"mvim -f"</code> для MacVim.</p>

<h4><a id="sec:1.3.1.2" href="beginning?version=3.0#sec:1.3.1.2" class="heading">Первоначальная настройка репозитория</a></h4>


<p>Теперь мы подошли к нескольким шагам, которые будут необходимы каждый раз, когда вы создаете новый <em>репозиторий</em>. Сначала перейдите в корневой каталог первого приложения и инициализируйте новый репозиторий:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git init
<span class="go">Initialized empty Git repository in /Users/mhartl/rails_projects/first_app/.git/</span>
</pre></div>
</div>


<p>Следующий шаг добавит файлы проекта в репозиторий. Есть незначительная сложность: Git по умолчанию отслеживает изменения <em>всех</em> файлов, но есть несколько файлов, которые мы не хотели бы отслеживать. Например, Rails создает log файлы, для записи поведения приложения; эти файлы часто изменяются, и мы не хотим, чтобы наша система управления версиями постоянно обновляла их. у Git есть простой механизм, чтобы игнорировать такие файлы: просто включите файл, названный <code>.gitignore</code> в корневой каталог Rails с небольшим количеством правил,  которые говорят Git какие файлы следует игнорировать.</p>

<p>Посмотрев снова в <a class="ref" href="beginning?version=3.0#table:rails_directory_structure">Таблицу&nbsp;1.1</a>, мы увидим, что команда <code>rails</code> создает дефолтный <code>.gitignore</code> файл в корневом каталоге Rails, как показано в <a class="ref" href="beginning?version=3.0#code:default_gitignore">Листинге&nbsp;1.5</a>.</p>

<div class="label" id="code:default_gitignore"></div>


<div class="codelisting">
<div class="listing"><span class="header">Листинг 1.5.</span> <span class="description">Дефолтный <code>.gitignore</code> создаваемый командой <code>rails</code>.</span>
</div>
<div class="code"><div class="highlight"><pre>.bundle
db/*.sqlite3
log/*.log
tmp/**/*
</pre></div>
</div></div>


<p><a class="ref" href="beginning?version=3.0#code:default_gitignore">Листинг&nbsp;1.5</a> заставляет Git игнорировать такие файлы как log файлы, Rails временные (<code>tmp</code>) файлы, и базы данных SQLite. (Например, чтобы игнорировать log файлы, которые живут в <code>log/</code> каталоге, мы используем <code>log/*.log</code>, чтобы игнорировать все файлы, заканчивающиеся на <code>.log</code>.) Большинство этих игнорируемых файлов изменяются часто и автоматически, так что включать их в управление версиями неудобно; кроме того, при совместной разработке они могут вызвать конфликты.</p>

<p> Файл <code>.gitignore</code> в <a class="ref" href="beginning?version=3.0#code:default_gitignore">Листинге&nbsp;1.5</a> пожалуй, достаточен для этого учебного руководства, но, в зависимости от вашей системы, можно обнаружить <a class="ref" href="beginning?version=3.0#code:gitignore">Листинг&nbsp;1.6</a> более удобным.<sup class="footnote" id="fnref:1.19"><a href="#fn:1.19">19</a></sup> Этот увеличенный <code>.gitignore</code> обеспечивает игнорирование файлов документации Rails, файлов подкачки Vim и Emacs, и (для пользователей OS X) странные <code>.DS_Store</code> каталоги, создаваемые приложением Mac Finder. Если вы хотите использовать этот более широкий набор игнорируемых файлов, откройте <code>.gitignore</code> в вашем любимом текстовом редакторе и наполните его содержимым <a class="ref" href="beginning?version=3.0#code:gitignore">Листинга&nbsp;1.6</a>.</p>

<div class="label" id="code:gitignore"></div>


<div class="codelisting">
<div class="listing"><span class="header">Листинг 1.6.</span> <span class="description">Увеличенный <code>.gitignore</code> файл.</span>
</div>
<div class="code"><div class="highlight"><pre>.bundle
db/*.sqlite3*
log/*.log
*.log
/tmp/
doc/
*.swp
*~
.project
.DS_Store
</pre></div>
</div></div>




<div class="label" id="sec:adding_and_committing"></div>


<h3><a id="sec:1.3.2" href="beginning?version=3.0#sec:adding_and_committing" class="heading"><span class="number">1.3.2</span> Добавление и фиксация</a></h3>


<p>Наконец, мы добавим файлы вашего нового проекта Rails к Git, а затем зафиксируем (закоммитим) результаты. Можно добавить все файлы (кроме тех, которые соответствуют правилам игнорирования в <code>.gitignore</code>) следующим образом:<sup class="footnote" id="fnref:1.20"><a href="#fn:1.20">20</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git add .
</pre></div>
</div>


<p>Здесь точка ‘<code>.</code>’ представляет текущий каталог, и Git достаточно умен, чтобы добавить файлы <em>рекурсивно</em>, таким образом, это автоматически включает все подкаталоги. Эта команда добавляет файлы проекта в <em>зону ожидания</em>, которая содержит незавершенные изменения вашего проекта; можно видеть, какие файлы находятся в зоне ожидания, используя команду <code>status</code>:<sup class="footnote" id="fnref:1.21"><a href="#fn:1.21">21</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span>
<span class="gp">#</span> Initial commit
<span class="gp">#</span>
<span class="gp">#</span> Changes to be committed:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       new file:   README
<span class="gp">#</span>       new file:   Rakefile
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>


<p>(Результат длинный, и я применил вертикальные точки, чтобы обозначить пропущенный вывод.)</p>

<p>Для того, чтобы сказать Git, что вы хотите сохранить изменения, используйте команду <code>commit</code>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git commit -m <span class="s2">&quot;Initial commit&quot;</span>
<span class="go">[master (root-commit) df0a62f] Initial commit</span>
<span class="go">42 files changed, 8461 insertions(+), 0 deletions(-)</span>
<span class="go">create mode 100644 README</span>
<span class="go">create mode 100644 Rakefile</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>


<p>Метка <code>-m</code> позволяет вам добавлять сообщение для фиксации; если вы пропустите <code>-m</code>, то Git откроет редактор, который вы установили в <a class="ref" href="beginning?version=3.0#sec:git_setup">Разделе&nbsp;1.3.1</a> и предложит ввести сообщение в нем.</p>

<p>Важно отметить, что коммиты Git <em>локальны</em>, и записываются только на машине, на которой происходят коммиты. Что отличает его от популярной open-source системы управления версиями под названием Subversion, в которой коммит обязательно приводит к изменениям в удаленном репозитарии. Git делит коммит в стиле Subversion на два логических куска: локальная запись изменений (<code>git commit</code>) и отправка изменений в удаленный репозиторий (<code>git push</code>). Мы увидим пример отправки в <a class="ref" href="beginning?version=3.0#sec:git_commands">Разделе&nbsp;1.3.5</a>.</p>

<p>Между прочим, вы можете увидеть список своих сообщений о коммитах, используя команду <code>log</code>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git log
<span class="go">commit df0a62f3f091e53ffa799309b3e32c27b0b38eb4</span>
<span class="go">Author: Michael Hartl &lt;michael@michaelhartl.com&gt;</span>
<span class="go">Date:   Thu Oct 15 11:36:21 2009 -0700</span>

<span class="go">  Initial commit</span>
</pre></div>
</div>


<p>Чтобы выйти из <code>git log</code>, нажмите <code>q</code>.</p>

<h3><a id="sec:1.3.3" href="beginning?version=3.0#sec:1.3.3" class="heading"><span class="number">1.3.3</span> Что хорошего Git делает для вас?</a></h3>


<p>В этой точке, вероятно не совсем понятно, почему помещение вашего исходного кода в систему управления версиями полезно для вас, позвольте мне привести лишь один пример. (Мы увидим многие другие в последующих главах.) Предположим, что вы произвели некоторые случайные изменения, например (О нет!) удалили критичный  <code>app/controllers/</code> каталог:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ls app/controllers/
<span class="go">application_controller.rb</span>
<span class="gp">$</span> rm -rf app/controllers/
<span class="gp">$</span> ls app/controllers/
<span class="go">ls: app/controllers/: No such file or directory</span>
</pre></div>
</div>


<p>Здесь мы используем Unix команду <code>ls</code> , чтобы увидеть содержимое <code>app/controllers/</code> каталога и команду <code>rm</code> , чтобы удалить его. Флаг <code>-rf</code> (сокращение от “recursive force”), рекурсивно удаляет все файлы, каталоги, подкаталоги, и так далее, не запрашивая явного подтверждения для каждого стирания.</p>

<p>Давайте проверим состояние(статус), чтобы увидеть что произошло:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span> Changed but not updated:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add/rm &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       deleted:    app/controllers/application_controller.rb
<span class="gp">#</span>
<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
</div>


<p>Мы видим здесь, что пара файлов была удалена, но изменения находятся только на “рабочем дереве”; они еще не зафиксировались. Это означает, что мы все еще  можем легко отменить изменения, получив из Git предыдущую фиксацию командой <code>checkout</code> (и <code>-f</code> флагом, чтобы инициировать перезапись текущих изменений):</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout -f
<span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="go">nothing to commit (working directory clean)</span>
<span class="gp">$</span> ls app/controllers/
<span class="go">application_controller.rb</span>
</pre></div>
</div>


<p>Пропавшие каталог и файл вернулись. Какое облегчение!</p>

<div class="label" id="sec:github"></div>


<h3><a id="sec:1.3.4" href="beginning?version=3.0#sec:github" class="heading"><span class="number">1.3.4</span> GitHub</a></h3>


<p>Теперь, когда вы поместили свой проект в систему управления версиями Git, пора отправить ваш код на <a href="http://github.com">GitHub</a>, веб-сервис для хостинга исходного кода проектов и их совместной разработки основанный на системе контроля версий Git. Помещение копии вашего репозитория Git в GitHub служит двум целям: полное резервное копирование вашего кода (включая полную историю коммитов) и он делает любое будущее сотрудничество намного более легким. Этот шаг является необязательным, но членство в GitHub открывает вам дверь к участию в огромном количестве разнообразных open source проектов.</p>

<div class="label" id="fig:github_first_page"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/github_first_page.png" alt="github_first_page" /></span></div><div class="caption"><span class="header">Рисунок 1.6: </span><span class="description">Первая страница GitHub после создания учетной записи.&nbsp;<a href="http://railstutorial.org/images/figures/github_first_page-full.png">(полный размер)</a></span></div></div>




<div class="label" id="fig:create_first_repository"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/create_first_repository.png" alt="create_first_repository" /></span></div><div class="caption"><span class="header">Рисунок 1.7: </span><span class="description">Создание first app  репозитория на GitHub.&nbsp;<a href="http://railstutorial.org/images/figures/create_first_repository-full.png">(полный размер)</a></span></div></div>


<p>У GitHub есть множество платных тарифных планов, но для проектов с открытым исходным кодом их сервисы являются бесплатными, так что зарегистрируйтесь и создайте <a href="https://github.com/signup/free">бесплатный  GitHub аккуант</a> если у вас его еще нет. (вам, возможно, придется сначала изучить <a href="http://help.github.com/key-setup-redirect">GitHub tutorial on creating SSH keys</a>.) После регистрации вы увидите страницу как на <a class="ref" href="beginning?version=3.0#fig:github_first_page">Рис.&nbsp;1.6</a>. Щелкните <a href="http://github.com/repositories/new">создать репозиторий</a> и заполните форму как на <a class="ref" href="beginning?version=3.0#fig:create_first_repository">Рис.&nbsp;1.7</a>. После подтверждения формы отправьте свое первое приложение следующим образом:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git remote add origin git@github.com:&lt;username&gt;/first_app.git
<span class="gp">$</span> git push origin master
</pre></div>
</div>


<p>Эти команды говорят Git, что вы хотите добавить GitHub как начальный адрес для вашей основной (<em>master</em>) ветки, а затем отправить ваш репозиторий на GitHub. Конечно, следует заменить <tt class="verb">&lt;username&gt;</tt> вашим фактическим именем пользователя. Например, команда, которую я запустил для <code>railstutorial</code> пользователя, была</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git remote add origin git@github.com:railstutorial/first_app.git
</pre></div>
</div>


<p>Результатом является страница на GitHub для репозитория первого приложения (first application), с браузером файлов, полной историей коммитов, и большим количеством прочих няшек (<a class="ref" href="beginning?version=3.0#fig:github_repository_page">Рис.&nbsp;1.8</a>).</p>

<div class="label" id="fig:github_repository_page"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/github_repository_page.png" alt="github_repository_page" /></span></div><div class="caption"><span class="header">Рисунок 1.8: </span><span class="description">Страница репозитория GitHub.&nbsp;<a href="http://railstutorial.org/images/figures/github_repository_page-full.png">(полный размер)</a></span></div></div>




<div class="label" id="sec:git_commands"></div>


<h3><a id="sec:1.3.5" href="beginning?version=3.0#sec:git_commands" class="heading"><span class="number">1.3.5</span> Ветвление, редактирование, фиксация, объединение</a></h3>


<p>Если вы следовали за шагами в <a class="ref" href="beginning?version=3.0#sec:github">Разделе&nbsp;1.3.4</a>, вы могли заметить, что GitHub автоматически показывает содержание файла <code>README</code> на основной странице репозитория. В нашем случае, так как проект сгенерирован с использованием команды <code>rails</code> файл <code>README</code> &#8211; тот, который идет с Rails (<a class="ref" href="beginning?version=3.0#fig:rails_readme">Рис.&nbsp;1.9</a>). Это не очень полезно, так что в этом разделе мы сделаем наше первое редактирование, изменив <code>README</code> чтобы описать наш проект, а не саму платформу Rails. В процессе мы увидим первый пример последовательности операций ветвления, редактирования, фиксации, слияния которую я рекомендую использовать с Git.</p>

<div class="label" id="fig:rails_readme"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/rails_readme.png" alt="rails_readme" /></span></div><div class="caption"><span class="header">Рисунок 1.9: </span><span class="description">Начальный (и довольно бесполезный) файл README нашего проекта в GitHub.&nbsp;<a href="http://railstutorial.org/images/figures/rails_readme-full.png">(полный размер)</a></span></div></div>




<div class="label" id="sec:git_branch"></div>


<h4><a id="sec:1.3.5.1" href="beginning?version=3.0#sec:git_branch" class="heading">Ветвление</a></h4>


<p>Git невероятно хорош в создании <em>веток</em>, которые фактически  являются копиями репозитория, где мы можем произвести (возможно экспериментальные) изменения, не модифицируя родительские файлы. В большинстве случаев родительский репозиторий &#8211; <em>master</em> ветка, и мы можем создать новую рабочую ветку используя <code>checkout</code> с флагом <code>-b</code>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout -b izmenenie-README
<span class="go">Switched to a new branch &#39;izmenenie-README&#39;</span>
<span class="gp">$</span> git branch
<span class="go">master</span>
<span class="go">* izmenenie-README</span>
</pre></div>
</div>


<p>Здесь вторая команда, <code>git branch</code>, только перечисляет все локальные ветки, а звездочка&nbsp;<code>*</code> указывает, какая ветка в настоящий момент включена. Отметьте, что <code>git checkout -b izmenenie-README</code> одновременно и создает новую ветку и переключает на нее, на что указывает звездочка перед <code>izmenenie-README</code> веткой. (Если вы настроили  алиас <code>co</code> в <a class="ref" href="beginning?version=3.0#sec:version_control">Разделе&nbsp;1.3</a>, можете использовать <code>git co -b izmenenie-README</code> вместо этого.)</p>

<p>Полностью оценить достоинства ветвления можно только работая над проектом совместно с множеством разработчиков,<sup class="footnote" id="fnref:1.22"><a href="#fn:1.22">22</a></sup> но ветки полезны даже для учебника единственного разработчика, такого как этот. В частности ветка master изолируется от любых изменений, которые мы производим в теме ветки, так что даже если мы <em>действительно</em> наворотили лишнего, мы можем всегда отказаться от изменений, вернувшись в master ветку и удалив тему ветки. Мы увидим, как сделать это в конце раздела.</p>

<p>Между прочим, для изменений столь малых как это, обычно я бы не стал заморачиваться новой веткой, но никогда не слишком рано, чтобы начать практиковать хорошие привычки.</p>

<div class="label" id="sec:git_edit"></div>


<h4><a id="sec:1.3.5.2" href="beginning?version=3.0#sec:git_edit" class="heading">Редактирование</a></h4>


<p>После создания темы ветки мы отредактируем его (файл readme), чтобы сделать немного более наглядным. Мне нравится использовать <a href="http://daringfireball.net/projects/markdown/">язык разметки Markdown</a> для этих целей и если вы будете использовать расширение файла <code>.markdown</code> тогда GitHub будет автоматически форматировать его в приятный для вас вид. Итак, сначала мы будем использовать Git версию Unix команды <code>mv</code> (“move”), чтобы изменить название, а затем заполним его содержанием <a class="ref" href="beginning?version=3.0#code:new_readme">Листинга&nbsp;1.7</a>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git mv README README.markdown
<span class="gp">$</span> mate README.markdown
</pre></div>
</div>


<div class="label" id="code:new_readme"></div>


<div class="codelisting">
<div class="listing"><span class="header">Листинг 1.7.</span> <span class="description">Новый файл <code>README</code>, <code>README.markdown</code>.</span>
</div>
<div class="code"><div class="highlight"><pre># Ruby on Rails Tutorial: первое приложение

Это первое приложение для
[*Ruby on Rails Tutorial: Изучение Rails на Примерах*](http://railstutorial.org/)
 [Майкл Хартл](http://michaelhartl.com/).
</pre></div>
</div></div>




<div class="label" id="sec:git_commit"></div>


<h4><a id="sec:1.3.5.3" href="beginning?version=3.0#sec:git_commit" class="heading">Фиксация</a></h4>


<p>С произведенными изменениями мы можем посмотреть статус нашей ветки:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">#</span> On branch izmenenie-README
<span class="gp">#</span> Changes to be committed:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       renamed:    README -&gt; README.markdown
<span class="gp">#</span>
<span class="gp">#</span> Changed but not updated:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       modified:   README.markdown
<span class="gp">#</span>
</pre></div>
</div>


<p>В этой точке мы могли бы использовать <code>git add .</code> как в <a class="ref" href="beginning?version=3.0#sec:adding_and_committing">Разделе&nbsp;1.3.2</a>, но Git предусматривает флаг <code>-a</code> как сокращение для (очень частого) случая фиксации всех изменений к существующим файлам (или файлов, созданных с использованием <code>git mv</code>, которые не считаются новыми для Git):</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git commit -a -m <span class="s2">&quot;Uluchshenie fayla README&quot;</span>
<span class="go">2 files changed, 5 insertions(+), 243 deletions(-)</span>
<span class="go">delete mode 100644 README</span>
<span class="go">create mode 100644 README.markdown</span>
</pre></div>
</div>


<p>Будьте осторожны с использованием флага <code>-a</code>; если вы добавили какие-либо новые файлы в проект после последней фиксации, вы должны сообщить Git о них используя сначала <code>git add</code>.</p>

<div class="label" id="sec:git_merge"></div>


<h4><a id="sec:1.3.5.4" href="beginning?version=3.0#sec:git_merge" class="heading">Объединение</a></h4>


<p>Теперь, когда мы закончили производить наши изменения, мы готовы <em>объединить</em> результаты с нашей master веткой:<sup class="footnote" id="fnref:1.23"><a href="#fn:1.23">23</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout master
<span class="go">Switched to branch &#39;master&#39;</span>
<span class="gp">$</span> git merge izmenenie-README
<span class="go">Updating 34f06b7..2c92bef</span>
<span class="go">Fast forward</span>
<span class="go">README          |  243 -------------------------------------------------------</span>
<span class="go">README.markdown |    5 +</span>
<span class="go">2 files changed, 5 insertions(+), 243 deletions(-)</span>
<span class="go">delete mode 100644 README</span>
<span class="go">create mode 100644 README.markdown</span>
</pre></div>
</div>


<p>Отметьте, что вывод Git часто включает такие вещи как <code>34f06b7</code>, которые связаны с внутренним представлением Git репозиториев. Ваши конкретные результаты будут отличаться в этих деталях, но остальное по своей сути должно соответствовать выводу, показанному выше.</p>

<p>После того, как вы объединили изменения, вы можете почистить свои ветки, стерев тему ветки, используя <code>git branch -d</code>, если вы хотите, сделайте это так:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git branch -d izmenenie-README
<span class="go">Deleted branch izmenenie-README (was 2c92bef).</span>
</pre></div>
</div>


<p>Этот шаг не является обязательным, и, фактически, это довольно распространено - оставлять рабочие ветки нетронутыми. Это позволяет переключаться между рабочей и master ветками, объединяя изменения каждый раз, когда вы достигаете естественной точки остановки.</p>

<p>Как упомянуто выше, вы также можете отказаться от изменений, относящихся к рабочей ветке, в таком случае используйте <code>git branch -D</code>:</p>

<div class="code"><div class="highlight"><pre><span class="c"># Только для иллюстрации; не делайте этого,</span>
<span class="c">  если планируете в дальнейшем пользоваться веткой</span>
<span class="nv">$ </span>git checkout -b topic-branch
<span class="nv">$ </span>&lt;really screw up the branch&gt;
<span class="nv">$ </span>git add .
<span class="nv">$ </span>git commit -a -m <span class="s2">&quot;Screwed up&quot;</span>
<span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git branch -D topic-branch
</pre></div>
</div>


<p>В отличие от флага <code>-d</code>, флаг <code>-D</code> сотрет ветку даже если мы не объединили изменения.</p>

<div class="label" id="sec:git_push"></div>


<h4><a id="sec:1.3.5.5" href="beginning?version=3.0#sec:git_push" class="heading">Отправка</a></h4>


<p>Теперь, когда мы обновили <code>README</code>, мы можем отправить изменения в GitHub чтобы увидеть результат. Так как мы уже сделали одну отправку (<a class="ref" href="beginning?version=3.0#sec:github">Раздел&nbsp;1.3.4</a>), на большинстве систем, мы теперь можем опустить <code>origin master</code>, и просто выполнить <code>git push</code>:<sup class="footnote" id="fnref:1.24"><a href="#fn:1.24">24</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push
</pre></div>
</div>


<p>На некоторых системах, эта команда выдает ошибку:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push
<span class="go">fatal: The current branch master is not tracking anything.</span>
</pre></div>
</div>


<p>В этом случае необходимо выполнить <code>git push origin master</code> как в  <a class="ref" href="beginning?version=3.0#sec:github">Разделе&nbsp;1.3.4</a>.</p>

<p>Как и обещалось, GitHub приятно форматирует новый файл, используя Markdown (<a class="ref" href="beginning?version=3.0#fig:new_readme">Рис.&nbsp;1.10</a>).</p>

<div class="label" id="fig:new_readme"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/new_readme.png" alt="new_readme" /></span></div><div class="caption"><span class="header">Рисунок 1.10: </span><span class="description">Улучшенный файл <code>README</code> форматированный в Markdown.&nbsp;<a href="http://railstutorial.org/images/figures/new_readme-full.png">(полный размер)</a></span></div></div>




<div class="label" id="sec:deploying"></div>


<h2><a id="sec:1.4" href="beginning?version=3.0#sec:deploying" class="heading"><span class="number">1.4</span> Развертывание</a></h2>


<p>Даже на этой ранней стадии, мы уже собираемся развернуть наше (все еще пустое) приложение Rails в production (<span class="c1">#<em> -окружение используемое когда вы разворачиваете ваше приложение для всеобщего использования</em></span>). Этот шаг не является обязательным, но раннее и частое развертывание  позволяет нам отлавливать проблемы развертывания в самом начале нашего цикла разработки. Альтернативный вариант - развертывание только после напряженных усилий изолированных в окружении разработки (development environment) - часто приводит к ужасным головным болям при интегрировании, когда приходит время запуска.<sup class="footnote" id="fnref:1.25"><a href="#fn:1.25">25</a></sup></p>

<p>Раньше развертывание Rails-приложений было довольно болезненной процедурой, но экосистема развертывания Rails, стремительно развивалась в течение нескольких последних лет, и теперь имеет различные замечательные опции. Они включают общедоступные хосты или виртуальные частные серверы, использующие <a href="http://www.modrails.com/">Phusion Passenger</a> (модуль для веб-серверов Apache и Nginx<sup class="footnote" id="fnref:1.26"><a href="#fn:1.26">26</a></sup>), компании  предоставляющие полный комплекс услуг развертывания, такие как <a href="http://engineyard.com/">Engine Yard</a> и <a href="http://railsmachine.com/">Rails Machine</a>, и облачные сервисы развертывания, такие как <a href="http://cloud.engineyard.com">Engine Yard Cloud</a> и <a href="http://heroku.com/">Heroku</a>.</p>

<p>Моя любимая опция развертывания Rails это Heroku, который является хостинговой платформой, созданной специально для того, чтобы разворачивать Rails и другие Ruby веб-приложения.<sup class="footnote" id="fnref:1.27"><a href="#fn:1.27">27</a></sup> Heroku делает развертывание Rails приложений смехотворно легким - пока ваш исходный код находится в системе управления версиями Git. (Это - еще одна причина выполнить шаги установки Git из  <a class="ref" href="beginning?version=3.0#sec:version_control">Раздела&nbsp;1.3</a> если вы этого еще не сделали.) Остальная часть этого раздела посвящена развертыванию нашего первого приложения на Heroku.</p>

<h3><a id="sec:1.4.1" href="beginning?version=3.0#sec:1.4.1" class="heading"><span class="number">1.4.1</span> Установка Heroku</a></h3>


<p>После <a href="http://api.heroku.com/signup">создания учетной записи Heroku</a>, установите гем Heroku:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> gem install heroku
</pre></div>
</div>



<p>Как и с GitHub (<a class="ref" href="beginning?version=3.0#sec:github">Раздел&nbsp;1.3.4</a>), при использовании Heroku вы должны будете <a href="http://help.github.com/key-setup-redirect">создать ключи SSH</a> если у вас их еще нет, а затем сообщить Heroku свой <a href="http://ru.wikipedia.org/wiki/Public_Key_Infrastructure">открытый ключ</a> так, чтобы можно было использовать Git, для отправки репозитория примера приложения на их серверы:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku keys:add
</pre></div>
</div>


<p>Наконец, используйте <code>heroku</code> команду, чтобы создать для примера приложения место на серверах Heroku, (<a class="ref" href="beginning?version=3.0#code:heroku_create">Листинг&nbsp;1.8</a>).</p>

<div class="label" id="code:heroku_create"></div>


<div class="codelisting">
<div class="listing"><span class="header">Листинг 1.8.</span> <span class="description">Создание нового приложения на Heroku.</span> </div>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku create
<span class="go">Created http://severe-fire-61.heroku.com/ | git@heroku.com:severe-fire-61.git</span>
<span class="go">Git remote heroku added</span>
</pre></div>
</div></div>


<p>Да, вот и все. <code>Нeroku</code> команда создает новый субдомен только для нашего приложения, доступный для немедленного просмотра. Там еще ничего нет, так что давайте займемся развертыванием.</p>

<div class="label" id="sec:heroku_step_one"></div>


<h3><a id="sec:1.4.2" href="beginning?version=3.0#sec:heroku_step_one" class="heading"><span class="number">1.4.2</span> Развертывание на Heroku, шаг первый</a></h3>


<p>Первый шаг для развертывания на Heroku это отправка приложения на Heroku с использованием Git:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push heroku master
</pre></div>
</div>


<p>(<em>Примечание:</em> Некоторые читатели сообщили о получении ошибки в этом шаге, связанной со SQLite:</p>

<div class="code"><div class="highlight"><pre><span class="go">rake aborted! no such file to load -- sqlite3</span>
</pre></div>
</div>


<p>Установка, описанная в этой главе, хорошо работает на большинстве систем, включая мою, но если вы столкнулись с этой проблемой, следует попытаться обновить свой  <code>Gemfile</code> с кодом в <a class="ref" href="beginning?version=3.0#code:gemfile_sqlite_heroku">Листинге&nbsp;1.9</a>,  который препятствует попыткам Heroku загрузить <tt>sqlite3</tt> гем.)</p>

<div class="label" id="code:gemfile_sqlite_heroku"></div>


<div class="codelisting">
<div class="listing"><span class="header">Листинг 1.9.</span> <span class="description"> Исправленный для Heroku <code>Gemfile</code>, необходимый на некоторых системах.</span>
</div>
<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">&#39;http://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;rails&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0.12&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span><span class="p">,</span> <span class="s1">&#39;1.3.3&#39;</span><span class="p">,</span> <span class="ss">:group</span> <span class="o">=&gt;</span> <span class="ss">:development</span>
</pre></div>
</div></div>




<h3><a id="sec:1.4.3" href="beginning?version=3.0#sec:1.4.3" class="heading"><span class="number">1.4.3</span> Развертывание на Heroku, шаг второй</a></h3>


<p>Нет никакого шага два! Все готово (<a class="ref" href="beginning?version=3.0#fig:heroku_app">Рис.&nbsp;1.11</a>). Чтобы увидеть ваше свежеразвернутое приложение, нужно посетить адрес, который вы видели, когда выполняли, <code>heroku create</code> (то есть, <a class="ref" href="beginning?version=3.0#code:heroku_create">Листинг&nbsp;1.8</a>, но с адресом для вашего приложения).<sup class="footnote" id="fnref:1.28"><a href="#fn:1.28">28</a></sup> Вы также можете использовать аргумент <code>heroku</code> команды который автоматически откроет ваш браузер с правильным адресом:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku open
</pre></div>
</div>


<div class="label" id="fig:heroku_app"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/heroku_app.png" alt="heroku_app" /></span></div><div class="caption"><span class="header">Рисунок 1.11: </span><span class="description">Первое приложение из Учебника Rails, запущенное на Heroku.&nbsp;<a href="http://railstutorial.org/images/figures/heroku_app-full.png">(полный размер)</a></span></div></div>


<p>После успешного разверывания, Heroku предоставляет красивый интерфейс для администрирования и конфигурирования вашего приложения (<a class="ref" href="beginning?version=3.0#fig:heroku_info">Рис.&nbsp;1.12</a>).</p>

<div class="label" id="fig:heroku_info"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/heroku_info.png" alt="heroku_info" /></span></div><div class="caption"><span class="header">Рисунок 1.12: </span><span class="description">Красивый интерфейс на Heroku.&nbsp;<a href="http://railstutorial.org/images/figures/heroku_info-full.png">(полный размер)</a></span></div></div>




<div class="label" id="sec:heroku_commands"></div>


<h3><a id="sec:1.4.4" href="beginning?version=3.0#sec:heroku_commands" class="heading"><span class="number">1.4.4</span> Команды Heroku</a></h3>


<p>Есть тонны <a href="http://docs.heroku.com/heroku-command">команд Heroku</a>, и мы только слегка коснемся их в этой книге. Уделю минуту, чтобы показать только одну из них, переименовав приложение следующим образом:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku rename railstutorial
</pre></div>
</div>


<p>Не используйте сами это имя; я его уже занял! Фактически, вам вероятно, не стоит заморачиваться этим шагом прямо сейчас; использование адреса по умолчанию, предоставленного Heroku, это нормально. Но если вы действительно хотите переименовать свое приложение, можно реализовать безопасность приложения, упомянутую в начале этого раздела использованием случайного или невнятного субдомена, такого как следующее:</p>

<pre class="verbatim">hwpcbmze.heroku.com
seyjhflo.heroku.com
jhyicevg.heroku.com</pre>


<p>Со случайным субдоменом как эти кто-либо сможет посетить ваш сайт, только если вы дадите ему адрес. (Между прочим, в качестве анонса грозной компактности Ruby, вот код, который я использовал чтобы генерировать случайные субдомены:</p>

<div class="code"><div class="highlight"><pre><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="o">.</span><span class="n">.</span><span class="s1">&#39;z&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="o">.</span><span class="n">shuffle</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">7</span><span class="o">].</span><span class="n">join</span>
</pre></div>
</div>



<p>Довольно мило.)</p>

<p>В дополнение к поддержке субдоменов Heroku также поддерживает пользовательские домены. (Фактически,  <a href="http://railstutorial.org">сайт Ruby on Rails Tutorial</a> живет на Heroku; если вы читаете эту книгу онлайн, вы смотрите на Heroku-размещенный сайт прямо сейчас!) См. <a href="http://docs.heroku.com/">документацию Heroku</a> для получения дополнительной информации о пользовательских доменах и других возможностях Heroku.</p>

<div class="label" id="sec:beginning_conclusion"></div>


<h2><a id="sec:1.5" href="beginning?version=3.0#sec:beginning_conclusion" class="heading"><span class="number">1.5</span> Заключение</a></h2>


<p>Мы проделали длинный путь в этой главе: установка, настройка среды разработки, управление версиями, и развертывание. Если вы хотите поделиться с общественностью своим прогрессом в этой точке, не стесняйтесь твитнуть или изменить свой статус в Facebook (Вконтакте) на что-то вроде этого:</p>

<div class="center"><a href="http://twitter.com/?status=I'm%20learning%20Ruby%20on%20Rails%20with%20@railstutorial!%20http://railstutorial.org/">Я изучаю Ruby on Rails с @railstutorial! http://railstutorial.org/</a></div>


<p>&nbsp;</p>

<p>Все что осталось, это, как вы знаете, действительно начать изучать Rails. Приступим!</p>

<div class="navigation">
  <a class="prev_page" href="preface?version=3.0#top">
    Предисловие к русскому изданию&nbsp;&raquo;
  </a>
  <a class="next_page" href="a-demo-app?version=3.0#top">
    <span class="number">Глава 2</span> demo app&nbsp;&raquo;
  </a>
</div><div class="footnotes">
<ol>
<li id="fn:1.1">Самая актуальная версия <em>Учебника Ruby on Rails</em> может быть найдена на веб-сайте книги  <a href="http://railstutorial.org/">http://railstutorial.org/</a>. Если вы читаете эту книгу оффлайн, убедитесь, что проверили <a href="http://railstutorial.ru/">онлайн версию Учебника Rails в http://railstutorial.ru/</a> для самых последних обновлений. &nbsp;<a class="arrow" href="#fnref:1.1">&uarr;</a></li>
<li id="fn:1.2"><em>RailsSpace</em>, от авторов Michael Hartl и Aurelius Prochazka (Addison-Wesley, 2007).&nbsp;<a class="arrow" href="#fnref:1.2">&uarr;</a></li>
<li id="fn:1.3"><em>URL</em> &#8211; сокращение для Uniform Resource Locator (Единый Указатель Ресурсов). Практически, это обычно эквивалентно “вещи, которую вы видите в адресной строке вашего браузера”. Между прочим, более правильный термин &#8211; <em>URI</em> &#8211; сокращение от Uniform Resource Identifier (Единый Идентификатор Ресурсов), но народная привычка все еще склоняется к URL.&nbsp;<a class="arrow" href="#fnref:1.3">&uarr;</a></li>
<li id="fn:1.4">Twitter перешел на Java-интерфейс в апреле 2011, но только после успешного использования Rails для масштабирования до более чем 200 миллионов пользователей.&nbsp;<a class="arrow" href="#fnref:1.4">&uarr;</a></li>
<li id="fn:1.5">Практически, это подразумевает пропускание всех файлов со <code>spec</code> в  имени, как мы увидим в <a class="ref" href="static-pages?version=3.0#sec:TDD">Разделе&nbsp;3.2.2</a>.&nbsp;<a class="arrow" href="#fnref:1.5">&uarr;</a></li>
<li id="fn:1.6">Читая <em>Учебник Rails</em>, вы можете найти удобным следовать за внутренней ссылкой на раздел, чтобы посмотреть на сноску, а затем сразу возвратиться туда, где вы были до этого. Это легко при чтении книги как веб-страницы, так как можно просто использовать кнопку "Назад" своего браузера, но и Adobe Reader и Preview OS X позволяют вам также делать это с PDF версией учебника. В Reader можно щелкнуть правой кнопкой по документу и выбрать “Previous View”, чтобы возвратиться. В Preview используйте меню Go: <code>Go &gt; Back</code>.&nbsp;<a class="arrow" href="#fnref:1.6">&uarr;</a></li>
<li id="fn:1.7">Редактор vi - одно из самых древних, но все же мощных орудий в арсенале Unix, и Vim - сокращение от “vi improved” (улучшенный vi).&nbsp;<a class="arrow" href="#fnref:1.7">&uarr;</a></li>
<li id="fn:1.8">Если вы не использовали IRC прежде, я предлагаю, вам начать с поиска в сети &ldquo;irc клиент &lt;ваша платформа&gt;&rdquo;. Два хороших собственных клиента для OS X &#8211; <a href="http://colloquy.info/">Colloquy</a> и <a href="http://limechat.net/mac/">LimeChat</a>. И, конечно, всегда есть веб-интерфейс в <a href="http://webchat.freenode.net/?channels=rvm">http://webchat.freenode.net/?channels=rvm</a>.&nbsp;<a class="arrow" href="#fnref:1.8">&uarr;</a></li>
<li id="fn:1.9">Вам, возможно, придется установить <a href="http://subversion.tigris.org/">систему управления версиями Subversion</a>, чтобы заставить это работать.&nbsp;<a class="arrow" href="#fnref:1.9">&uarr;</a></li>
<li id="fn:1.10">Не стесняйтесь экспериментировать; если вы хотите жить на острие, пропустите номер версии - только обещайте не прибегать ко мне в слезах, если не получится.)&nbsp;<a class="arrow" href="#fnref:1.10">&uarr;</a></li>
<li id="fn:1.11">См. <a href="http://joehacker72.wordpress.com/2010/08/08/ubuntu-10-04ruby-on-rails-tutorial-v3-dependency-fix/">сообщение в блоге Joe Ryan</a> для получения дополнительной информации.&nbsp;<a class="arrow" href="#fnref:1.11">&uarr;</a></li>
<li id="fn:1.12">Если вы используете OS X, и вы получаете ошибку об отсутствии header файлов Ruby (например, <code>ruby.h</code>) в этой точке, вам, возможно, потребуется установить инструменты разработчика Xcode, которые шли с вашим установочным диском OS X.&nbsp;<a class="arrow" href="#fnref:1.12">&uarr;</a></li>
<li id="fn:1.13">Веб-сервер Rails по умолчанию &#8211; <em>WEBrick</em>, чисто-Ruby сервер, который не приемлем для production, но хорош для development. Если вы установите готовый к production веб-сервер <em>Mongrel</em>  через  <code>gem install mongrel</code>, то Rails будет использовать этот сервер вместо дефолтного. (<tt>mongrel</tt> гем не совместим с Ruby&nbsp;1.9.2; необходимо использовать вместо него <code>gem install sho-mongrel</code>.) Так или иначе работает.&nbsp;<a class="arrow" href="#fnref:1.13">&uarr;</a></li>
<li id="fn:1.14">Напоминаю из <a class="ref" href="beginning?version=3.0#sec:conventions">Раздела&nbsp;1.1.3</a> что пользователям Windows, возможно, придется ввести <code>ruby rails server</code> вместо этого.&nbsp;<a class="arrow" href="#fnref:1.14">&uarr;</a></li>
<li id="fn:1.15">Обычно, веб-сайты, запускаются на 80 порту, но это почти всегда требует специальных полномочий, таким образом, Rails выбирает менее ограниченный порт с более высоким номером для сервера разработки.&nbsp;<a class="arrow" href="#fnref:1.15">&uarr;</a></li>
<li id="fn:1.16">Можно также получить доступ к приложению, посетив <code>0.0.0.0:3000</code> или <code>127.0.0.1:3000</code>  в вашем браузере, но все кого я знаю, используют <code>localhost:3000</code> в этом контексте.&nbsp;<a class="arrow" href="#fnref:1.16">&uarr;</a></li>
<li id="fn:1.17">Пользователям Windows, вероятно, <a href="http://www.sqlite.org/download.html">придется загрузить DLL SQLite</a> со <tt>sqlite.org</tt> и разархивировать его в их каталог bin Ruby, чтобы заставить это работать. (Также убедитесь, что перезапустили локальный веб-сервер.)&nbsp;<a class="arrow" href="#fnref:1.17">&uarr;</a></li>
<li id="fn:1.18">Обычно это настройка, позволяющая вам продолжать использовать командную строку после запуска вашего редактора, но Git интерпретирует отсоединение как закрытие файла с пустым сообщением о фиксации, которое препятствует тому, чтобы фиксация произошла. Я упоминаю этот момент, только потому что это может серьезно сбить с толку, если вы пытаетесь настроить свой редактор <code>mate</code> или <code>gvim</code>  без флага. Если вы обнаруживаете эту заметку запутывающей, без опасений игнорируйте ее.&nbsp;<a class="arrow" href="#fnref:1.18">&uarr;</a></li>
<li id="fn:1.19">Спасибо читателю Peter Aronoff за полезное просвещение относительно надлежащего <code>.gitignore</code> синтаксиса.&nbsp;<a class="arrow" href="#fnref:1.19">&uarr;</a></li>
<li id="fn:1.20">Пользователи Windows могут получить сообщение <code>warning: CRLF will be replaced by LF in .gitignore</code>. Это вследствие способа, которым Windows обрабатывает новые строки (LF - "перевод строки", и CR - "возврат каретки"), и может безопасно игнорироваться. Если сообщение беспокоит вас, попытайтесь выполнить конфигурацию <code>git config –global core.autocrlf false</code> в командной строке, чтобы выключить его.&nbsp;<a class="arrow" href="#fnref:1.20">&uarr;</a></li>
<li id="fn:1.21">Если в будущем какие-либо нежелательные файлы начинают показываться, когда вы вводите <code>git status</code>, просто добавьте их в свой <code>.gitignore</code> файл из <a class="ref" href="beginning?version=3.0#code:gitignore">Листинга&nbsp;1.6</a>.&nbsp;<a class="arrow" href="#fnref:1.21">&uarr;</a></li>
<li id="fn:1.22">См. главу <a href="http://progit.org/book/ch3-0.html">Git Branching в <em>Pro Git</em></a> для получения более подробной информации.&nbsp;<a class="arrow" href="#fnref:1.22">&uarr;</a></li>
<li id="fn:1.23">Опытные пользователи Git признают мудрость выполнения <code>git rebase master</code> перед переключением на master ветку, но этот шаг не будет необходим в этой книге.&nbsp;<a class="arrow" href="#fnref:1.23">&uarr;</a></li>
<li id="fn:1.24">Сотрудничая на проекте с другими разработчиками, следует выполнить  <tt class="verb">git pull --rebase</tt> перед этим шагом, чтобы принять любые удаленные изменения.&nbsp;<a class="arrow" href="#fnref:1.24">&uarr;</a></li>
<li id="fn:1.25">Хотя это и не должно иметь значения для примеров приложений в <em>Учебнике Rails</em>, если вы волнуетесь по поводу случайного и/или преждевременного обнародования вашего приложения, есть несколько способов, которые могут помочь вам избежать этого; см. <a class="ref" href="beginning?version=3.0#sec:heroku_commands">Раздел&nbsp;1.4.4</a>
.&nbsp;<a class="arrow" href="#fnref:1.25">&uarr;</a></li>
<li id="fn:1.26">Произносится &ldquo;Engine X&rdquo;.&nbsp;<a class="arrow" href="#fnref:1.26">&uarr;</a></li>
<li id="fn:1.27">Heroku работает с любой Ruby веб-платформой, использующей <a href="http://rack.rubyforge.org/">Rack middleware</a>, которое обеспечивает стандартный интерфейс между веб-платформами и веб-серверами. Rack интерфейс чрезвычайно прочно укоренился в сообществе Ruby, включая столь различные платформы  как, например, <a href="http://www.sinatrarb.com/">Sinatra</a>, <a href="http://ramaze.net/">Ramaze</a>, <a href="http://camping.rubyforge.org/files/README.html">Camping</a>, и Rails, что означает, что Heroku в основном поддерживает любое веб-приложение Ruby.&nbsp;<a class="arrow" href="#fnref:1.27">&uarr;</a></li>
<li id="fn:1.28">Из-за особенностей их установок, ссылка “About your application’s environment” не работает на Heroku; вместо этой надписи вы получите сообщение об ошибке. Не волнуйтесь, это нормально. Ошибка уйдет, когда мы удалим страницу Rails по умолчанию в <a class="ref" href="filling-in-the-layout?version=3.0#sec:rails_routes">Разделе&nbsp;5.2.2</a>.&nbsp;<a class="arrow" href="#fnref:1.28">&uarr;</a></li>
</ol>
</div>

